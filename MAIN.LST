Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 1
MAIN.ASM



      1
      2				     ; M0 ? Sanity check: texto	-> 13h -> desenha 1 pixel -> volta pro texto
      3	0000			     .model small
      4	0000			     .stack
      5
      6	0000			     .data
      7	0000  0000			 ale dw	0
      8	0002  00			 menu db 0
      9	0003  01			 fase db 1
     10	0004  0E*(20) DA C4 C4 C4 +	 btn_iniciar db	 14 dup(" "),218,196,196,196,196,196,196,196,196,196,191,13,10
     11	      C4 C4 C4 C4 C4 C4	BF+
     12	      0D 0A
     13	001F  0E*(20) B3 20 20 4A +		      db 14 dup(" "),179,"  JOGAR  ",179,10,13
     14	      4F 47 41 52 20 20	B3+
     15	      0A 0D
     16	003A  0E*(20) C0 C4 C4 C4 +		      db 14 dup(" "),192,196,196,196,196,196,196,196,196,196,217,13,10
     17	      C4 C4 C4 C4 C4 C4	D9+
     18	      0D 0A
     19
     20	      =0051			 btn_iniciar_length equ	$-btn_iniciar
     21
     22	0055  0E*(20) DA C4 C4 C4 +	 btn_sair db  14 dup(" "),218,196,196,196,196,196,196,196,196,196,191,13,10
     23	      C4 C4 C4 C4 C4 C4	BF+
     24	      0D 0A
     25	0070  0E*(20) B3 20 20 53 +		   db 14 dup(" "),179,"	 SAIR	",179,10,13
     26	      41 49 52 20 20 20	B3+
     27	      0A 0D
     28	008B  0E*(20) C0 C4 C4 C4 +		   db 14 dup(" "),192,196,196,196,196,196,196,196,196,196,217,13,10
     29	      C4 C4 C4 C4 C4 C4	D9+
     30	      0D 0A
     31
     32	      =0051			 btn_sair_length equ $-btn_sair
     33	      =000D			 CR EQU	13
     34	      =000A			 LF EQU	10
     35	00A6  02*(20) 20 20 20 20 +	 string	 db 2 dup(" "),"				    ",13,10
     36	      20 20 20 20 20 20	20+
     37	      20 20 20 20 20 20	20+
     38	      20 20 20 20 20 20	20+
     39	      20 20 20 20 20 20	20+
     40	      20 20 20 20 0D 0A
     41	00CE  02*(20) 20 20 5F 5F +		 db 2 dup(" "),"  ___			 _    _	    ",13,10
     42	      5F 20 20 20 20 20	20+
     43	      20 20 20 20 20 20	20+
     44	      20 20 20 20 20 20	20+
     45	      5F 20 20 20 20 5F	20+
     46	      20 20 20 20 0D 0A
     47	00F6  02*(20) 20 2F 20 5F +		 db 2 dup(" ")," / __| __ _ _ __ _ _ __	| |__| |___ ",13,10
     48	      5F 7C 20 5F 5F 20	5F+
     49	      20 5F 20 5F 5F 20	5F+
     50	      20 5F 20 5F 5F 20	7C+
     51	      20 7C 5F 5F 7C 20	7C+
     52	      5F 5F 5F 20 0D 0A
     53	011E  02*(20) 20 5C 5F 5F +		 db 2 dup(" ")," \__ \/	_| '_/ _` | '  \| '_ \ / -_)",13,10
     54	      20 5C 2F 20 5F 7C	20+
     55	      27 5F 2F 20 5F 60	20+
     56	      7C 20 27 20 20 5C	7C+
     57	      20 27 5F 20 5C 20	2F+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 2
MAIN.ASM



     58	      20 2D 5F 29 0D 0A
     59	0146  02*(20) 20 7C 5F 5F +		 db 2 dup(" ")," |___/\__|_| \__,_|_|_|_|_.__/_\___|",13,10
     60	      5F 2F 5C 5F 5F 7C	5F+
     61	      7C 20 5C 5F 5F 2C	5F+
     62	      7C 5F 7C 5F 7C 5F	7C+
     63	      5F 2E 5F 5F 2F 5F	5C+
     64	      5F 5F 5F 7C 0D 0A
     65
     66
     67	      =00C8			 string_length equ $-string
     68	016E  00 00 00 00 00 00	00+	 meteor_sprite	 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     69	      00 00 00 00 00 00	00+
     70	      00 00 00 00 00 00	00+
     71	      00
     72	0184  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     73	      00 00 00 00 00 00	00+
     74	      00 00 00 00 00 00	00+
     75	      00
     76	019A  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     77	      00 00 00 00 00 00	00+
     78	      00 00 00 00 00 00	00+
     79	      00
     80	01B0  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0
     81	      00 00 00 01 01 00	00+
     82	      00 00 00 00 00 00	00+
     83	      00
     84	01C6  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,1,1,4,4,4,1,0,0,0,0,0,0,0,0,0
     85	      01 01 04 04 04 01	00+
     86	      00 00 00 00 00 00	00+
     87	      00
     88	01DC  00 00 00 00 00 00	01+			 db 0,0,0,0,0,0,1,4,4,4,4,4,4,1,0,1,1,0,0,0,0,0
     89	      04 04 04 04 04 04	01+
     90	      00 01 01 00 00 00	00+
     91	      00
     92	01F2  00 00 00 00 00 01	04+			 db 0,0,0,0,0,1,4,4,4,5,5,4,4,4,1,0,0,0,0,0,0,0
     93	      04 04 05 05 04 04	04+
     94	      01 00 00 00 00 00	00+
     95	      00
     96	0208  00 00 00 00 01 04	04+			 db 0,0,0,0,1,4,4,5,5,5,5,5,4,4,1,0,0,0,0,0,0,0
     97	      05 05 05 05 05 04	04+
     98	      01 00 00 00 00 00	00+
     99	      00
    100	021E  00 00 00 00 01 04	04+			 db 0,0,0,0,1,4,4,5,5,5,5,5,5,4,1,5,5,0,0,0,0,0
    101	      05 05 05 05 05 05	04+
    102	      01 05 05 00 00 00	00+
    103	      00
    104	0234  00 00 00 00 01 04	04+			 db 0,0,0,0,1,4,4,4,5,5,5,5,4,4,1,4,5,0,0,0,0,0
    105	      04 05 05 05 05 04	04+
    106	      01 04 05 00 00 00	00+
    107	      00
    108	024A  00 00 00 00 00 01	04+			 db 0,0,0,0,0,1,4,4,4,4,5,4,4,1,0,0,0,0,0,0,0,0
    109	      04 04 04 05 04 04	01+
    110	      00 00 00 00 00 00	00+
    111	      00
    112	0260  00 00 00 00 00 01	04+			 db 0,0,0,0,0,1,4,4,4,4,4,4,4,1,0,1,5,0,0,0,0,0
    113	      04 04 04 04 04 04	01+
    114	      00 01 05 00 00 00	00+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 3
MAIN.ASM



    115	      00
    116	0276  00 00 00 00 00 00	01+			 db 0,0,0,0,0,0,1,4,4,4,4,4,1,0,0,0,0,0,0,0,0,0
    117	      04 04 04 04 04 01	00+
    118	      00 00 00 00 00 00	00+
    119	      00
    120	028C  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,1,4,4,4,1,0,4,4,0,0,0,0,0,0,0
    121	      01 04 04 04 01 00	04+
    122	      04 00 00 00 00 00	00+
    123	      00
    124	02A2  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0
    125	      00 01 01 01 00 00	01+
    126	      00 00 00 00 00 00	00+
    127	      00
    128	02B8  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    129	      00 00 00 00 00 00	00+
    130	      00 00 00 00 00 00	00+
    131	      00
    132	02CE  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    133	      00 00 00 00 00 00	00+
    134	      00 00 00 00 00 00	00+
    135	      00
    136	02E4  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    137	      00 00 00 00 00 00	00+
    138	      00 00 00 00 00 00	00+
    139	      00
    140
    141
    142	02FA  00 00 00 00 00 00	00+	 alien_sprite	 db 0,0,0,0,0,0,0,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0,0,0,0,0,0,0
    143	      0A 0A 0A 02 0E 0A	0A+
    144	      0A 00 00 00 00 00	00+
    145	      00
    146	0310  00 00 00 00 0E 02	02+			 db 0,0,0,0,0EH,2,2,2,2,2,2,2,2,2,2,0EH,0,0,0,0,0,0
    147	      02 02 02 02 02 02	02+
    148	      02 0E 00 00 00 00	00+
    149	      00
    150	0326  00 00 00 00 0E 02	02+			 db 0,0,0,0,0EH,2,2,2,2,2,2,2,2,2,2,0EH,0,0,0,0,0,0
    151	      02 02 02 02 02 02	02+
    152	      02 0E 00 00 00 00	00+
    153	      00
    154	033C  00 00 00 0E 02 02	02+			 db 0,0,0,0EH,2,2,2,2,2,2,2,2,2,2,2,2,0EH,0,0,0,0,0
    155	      02 02 02 02 02 02	02+
    156	      02 02 0E 00 00 00	00+
    157	      00
    158	0352  00 00 00 0E 0E 0A	05+			 db 0,0,0,0EH,0EH,0AH,5,5,0AH,2,0EH,0AH,5,5,0AH,0EH,0EH,0,0,0,0,0
    159	      05 0A 02 0E 0A 05	05+
    160	      0A 0E 0E 00 00 00	00+
    161	      00
    162	0368  00 00 00 0E 0E 0A	05+			 db 0,0,0,0EH,0EH,0AH,5,5,0AH,2,0EH,0AH,5,5,0AH,0EH,0EH,0,0,0,0,0
    163	      05 0A 02 0E 0A 05	05+
    164	      0A 0E 0E 00 00 00	00+
    165	      00
    166	037E  00 00 00 0E 0E 0E	0A+			 db 0,0,0,0EH,0EH,0EH,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0EH,0EH,0EH,0,0,0,0,0
    167	      0A 0A 02 0E 0A 0A	0A+
    168	      0E 0E 0E 00 00 00	00+
    169	      00
    170	0394  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0,0,0,0,0,0
    171	      02 05 05 02 05 05	02+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 4
MAIN.ASM



    172	      0A 0E 00 00 00 00	00+
    173	      00
    174	03AA  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0,0,0,0,0,0
    175	      02 05 05 02 05 05	02+
    176	      0A 0E 00 00 00 00	00+
    177	      00
    178	03C0  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,0AH,5,5,2,0AH,0EH,0,0,0,0,0,0
    179	      02 05 05 0A 05 05	02+
    180	      0A 0E 00 00 00 00	00+
    181	      00
    182	03D6  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,0AH,5,5,2,0AH,0EH,0,0,0,0,0,0
    183	      02 05 05 0A 05 05	02+
    184	      0A 0E 00 00 00 00	00+
    185	      00
    186	03EC  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0,0,0,0,0,0
    187	      02 05 05 02 05 05	02+
    188	      0A 0E 00 00 00 00	00+
    189	      00
    190	0402  00 00 00 00 00 0E	0A+			 db 0,0,0,0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0,0,0,0,0,0
    191	      02 05 05 02 05 05	02+
    192	      0A 0E 00 00 00 00	00+
    193	      00
    194	0418  00 00 00 00 00 00	0A+			 db 0,0,0,0,0,0,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0,0,0,0,0,0,0
    195	      0A 0A 02 0E 0A 0A	0A+
    196	      00 00 00 00 00 00	00
    197	042D  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    198	      00 00 00 00 00 00	00+
    199	      00 00 00 00 00 00	00+
    200	      00
    201	0443  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    202	      00 00 00 00 00 00	00+
    203	      00 00 00 00 00 00	00+
    204	      00
    205	0459  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    206	      00 00 00 00 00 00	00+
    207	      00 00 00 00 00 00	00+
    208	      00
    209	046F  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    210	      00 00 00 00 00 00	00+
    211	      00 00 00 00 00 00	00+
    212	      00
    213
    214	0485  9D6C			 alien_pos dw 125*320 +	300 ; posição	inicial	(linha 125, x =	300)
    215	0487  00			 alien_dir db 0	 ; direção do	alien (0=esquerda, 1=direita)
    216
    217					 ; Sprite da nave principal (29x13 pixels) - baseado no	exemplo
    218	0488  00 00 00 00 00 00	00+	 ship_sprite db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    219	      00 00 00 00 00 00	00+
    220	      00 00 00 00 00 00	00+
    221	      00
    222	049E  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    223	      00 00 00 00 00 00	00+
    224	      00 00 00 00 00 00	00+
    225	      00
    226	04B4  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    227	      00 00 00 00 00 00	00+
    228	      00 00 00 00 00 00	00+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 5
MAIN.ASM



    229	      00
    230	04CA  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    231	      00 00 00 00 00 00	00+
    232	      00 00 00 00 00 00	00+
    233	      00
    234	04E0  00 00 00 00 0F 0F	0F+		     db	0,0,0,0,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    235	      00 00 00 00 00 00	00+
    236	      00 00 00 00 00 00	00+
    237	      00
    238	04F6  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,0AH,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    239	      0F 0A 0A 0A 00 00	00+
    240	      00 00 00 00 00 00	00+
    241	      00
    242	050C  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    243	      0F 0F 0A 0A 00 00	00+
    244	      00 00 00 00 00 00	00+
    245	      00
    246	0522  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0
    247	      0F 0F 0F 0F 0F 00	00+
    248	      00 00 00 00 00 00	00+
    249	      00
    250	0538  00 00 00 00 00 01	09+		     db	0,0,0,0,0,1,09H,09H,09H,09H,09H,09H,15,15,15,15,15,15,0,0,0,0
    251	      09 09 09 09 09 0F	0F+
    252	      0F 0F 0F 0F 00 00	00+
    253	      00
    254	054E  00 00 00 00 00 01	09+		     db	0,0,0,0,0,1,09H,09H,09H,09H,09H,09H,15,15,15,15,15,15,0,0,0,0
    255	      09 09 09 09 09 0F	0F+
    256	      0F 0F 0F 0F 00 00	00+
    257	      00
    258	0564  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0
    259	      0F 0F 0F 0F 0F 00	00+
    260	      00 00 00 00 00 00	00+
    261	      00
    262	057A  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    263	      0F 0F 0A 0A 00 00	00+
    264	      00 00 00 00 00 00	00+
    265	      00
    266	0590  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,0AH,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    267	      0F 0A 0A 0A 00 00	00+
    268	      00 00 00 00 00 00	00+
    269	      00
    270	05A6  00 00 00 00 0F 0F	0F+		     db	0,0,0,0,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    271	      00 00 00 00 00 00	00+
    272	      00 00 00 00 00 00	00+
    273	      00
    274	05BC  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    275	      00 00 00 00 00 00	00+
    276	      00 00 00 00 00 00	00+
    277	      00
    278	05D2  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    279	      00 00 00 00 00 00	00+
    280	      00 00 00 00 00 00	00+
    281	      00
    282	05E8  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    283	      00 00 00 00 00 00	00+
    284	      00 00 00 00 00 00	00+
    285	      00
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 6
MAIN.ASM



    286	05FE  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    287	      00 00 00 00 00 00	00+
    288	      00 00 00 00 00 00	00+
    289	      00
    290	      =0064			 ROW_METEOR  EQU 100
    291	      =007D			 ROW_ALIEN   EQU 125
    292	      =004B			 ROW_SHIP    EQU 75
    293
    294	      =7E2C			 meteor_pos_ini	EQU ROW_METEOR*320 + 300  ; posição inicial do meteoro (linha	100, x = 300)
    295	0614  7E2C			 meteor_pos dw meteor_pos_ini ;	posi??o	inicial	(linha 100, x =	300)
    296
    297	      =5DC0			 ship_pos_ini EQU ROW_SHIP*320
    298	0616  5DC0			 ship_pos dw ship_pos_ini ; posição inicial (linha 95, coluna	41)
    299	      =0004			 ship_speed EQU	4
    300
    301	      =0003			 LIFES_START EQU 3
    302	0618  03			 lives db LIFES_START  ; número de vidas
    303
    304	      =0140			 SCREEN_W    EQU 320
    305	      =00C8			 SCREEN_H    EQU 200
    306
    307	      =0016			 SPR_W	     EQU 22  ; para meteoro e alien
    308	      =0012			 SPR_H	     EQU 18
    309	      =012A			 RIGHT_X     EQU (SCREEN_W - SPR_W)   ;	?ltimo X v?lido	p/ canto esquerdo do sprite
    310
    311
    312					 ; Limites horizontais por objeto (linha fixa)
    313	      =7D00			 METEOR_L    EQU (ROW_METEOR*SCREEN_W)
    314	      =7E2A			 METEOR_R    EQU (ROW_METEOR*SCREEN_W +	RIGHT_X)
    315
    316	      =9C40			 ALIEN_L     EQU (ROW_ALIEN*SCREEN_W)
    317	      =9D6A			 ALIEN_R     EQU (ROW_ALIEN*SCREEN_W + RIGHT_X)
    318
    319	0619  07*(20) 20 5F 5F 5F +	 fase1	 db 7 dup(" ")," ___		      _	",13,10
    320	      20 20 20 20 20 20	20+
    321	      20 20 20 20 20 20	20+
    322	      20 20 20 20 5F 20	0D+
    323	      0A
    324	063A  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___     / |",13,10
    325	      7C 5F 20 5F 20 5F	5F+
    326	      5F 20 5F 5F 5F 20	20+
    327	      20 20 20 2F 20 7C	0D+
    328	      0A
    329	065B  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)    | |",13,10
    330	      20 5F 60 20 28 5F	2D+
    331	      3C 2F 20 2D 5F 29	20+
    332	      20 20 20 7C 20 7C	0D+
    333	      0A
    334	067C  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|    |_|",13,10
    335	      5F 5F 2C 5F 2F 5F	5F+
    336	      2F 5C 5F 5F 5F 7C	20+
    337	      20 20 20 7C 5F 7C	0D+
    338	      0A
    339	069D  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    340	      20 20 20 20 20 20	20+
    341	      20 20 20 20 20 20	20+
    342	      20 20 20 20 20 20	0D+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 7
MAIN.ASM



    343	      0A
    344	06BE  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    345	      20 20 20 20 20 20	20+
    346	      20 20 20 20 20 20	20+
    347	      20 20 20 20 20 20	0D+
    348	      0A
    349
    350	06DF  07*(20) 20 5F 5F 5F +	 fase2	 db 7 dup(" ")," ___		    ___	",13,10
    351	      20 20 20 20 20 20	20+
    352	      20 20 20 20 20 20	20+
    353	      20 20 5F 5F 5F 20	0D+
    354	      0A
    355	0700  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___   |_  )",13,10
    356	      7C 5F 20 5F 20 5F	5F+
    357	      5F 20 5F 5F 5F 20	20+
    358	      20 7C 5F 20 20 29	0D+
    359	      0A
    360	0721  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)   / /	",13,10
    361	      20 5F 60 20 28 5F	2D+
    362	      3C 2F 20 2D 5F 29	20+
    363	      20 20 2F 20 2F 20	0D+
    364	      0A
    365	0742  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|  /___|",13,10
    366	      5F 5F 2C 5F 2F 5F	5F+
    367	      2F 5C 5F 5F 5F 7C	20+
    368	      20 2F 5F 5F 5F 7C	0D+
    369	      0A
    370	0763  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    371	      20 20 20 20 20 20	20+
    372	      20 20 20 20 20 20	20+
    373	      20 20 20 20 20 20	0D+
    374	      0A
    375	0784  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    376	      20 20 20 20 20 20	20+
    377	      20 20 20 20 20 20	20+
    378	      20 20 20 20 20 20	0D+
    379	      0A
    380
    381	07A5  07*(20) 20 5F 5F 5F +	 fase3	 db 7 dup(" ")," ___		    ____",13,10
    382	      20 20 20 20 20 20	20+
    383	      20 20 20 20 20 20	20+
    384	      20 20 5F 5F 5F 5F	0D+
    385	      0A
    386	07C6  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___   |__ /",13,10
    387	      7C 5F 20 5F 20 5F	5F+
    388	      5F 20 5F 5F 5F 20	20+
    389	      20 7C 5F 5F 20 2F	0D+
    390	      0A
    391	07E7  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)   |_ \",13,10
    392	      20 5F 60 20 28 5F	2D+
    393	      3C 2F 20 2D 5F 29	20+
    394	      20 20 7C 5F 20 5C	0D+
    395	      0A
    396	0808  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|  |___/",13,10
    397	      5F 5F 2C 5F 2F 5F	5F+
    398	      2F 5C 5F 5F 5F 7C	20+
    399	      20 7C 5F 5F 5F 2F	0D+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 8
MAIN.ASM



    400	      0A
    401	0829  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    402	      20 20 20 20 20 20	20+
    403	      20 20 20 20 20 20	20+
    404	      20 20 20 20 20 20	0D+
    405	      0A
    406	084A  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    407	      20 20 20 20 20 20	20+
    408	      20 20 20 20 20 20	20+
    409	      20 20 20 20 20 20	0D+
    410	      0A
    411
    412	      =00C6			 fase_string_length equ	$-fase3
    413
    414	086B  0619r 06DFr 07A5r		 fase_vec dw offset fase1, offset fase2, offset	fase3
    415
    416	      =003C			 SECONDS_START	EQU 60
    417
    418	0871  3C			 time db SECONDS_START
    419	0872  00			 timeout db 0
    420	0873  30 30			 time_buffer db	'00'
    421	      =0002			 time_buffer_len equ $-time_buffer
    422
    423
    424	0875  54 45 4D 50 4F 3A		 time_str db "TEMPO:"
    425	      =0006			 time_str_len equ $-time_str
    426
    427	087B  0000			 score dw 0
    428	087D  30 30 30 30 30		 score_buffer db '00000'
    429	      =0005			 score_buffer_len equ $-score_buffer
    430
    431	0882  53 43 4F 52 45 3A		 score_str db "SCORE:"
    432	      =0006			 score_str_len equ $-score_str
    433
    434					 ; Terreno da fase 1
    435	0888  0140*(00)			 terrain db 320	dup(0)
    436	09C8  0140*(00)			     db	320 dup(0)
    437	0B08  A8*(00) 03*(06) 95* +	     db	168 dup(0),3 dup (6),149 dup(0)
    438	      (00)
    439	0C48  A6*(00) 06*(06) 94* +	     db	166 dup(0),6 dup (6),148 dup(0)
    440	      (00)
    441	0D88  22*(00) 04*(06) 07* +	     db	34 dup(0),4 dup	(6),7 dup(0),6 dup (6),63 dup(0),2 dup (6),25 dup(0),6 dup (6),18   +
    442	      (00) 06*(06) 3F*(00)+  dup(0),8 dup (6),87 dup(0),9 dup (6),51 dup(0)
    443	      02*(06) 19*(00) 06* +
    444	      (06) 12*(00) 08*(06)+
    445	      57*(00) 09*(06) 33* +
    446	      (00)
    447	0EC8  21*(00) 06*(06) 05* +	     db	33 dup(0),6 dup	(6),5 dup(0),9 dup (6),37 dup(0),9 dup (6),12 dup(0),7 dup (6),20   +
    448	      (00) 09*(06) 25*(00)+  dup(0),10 dup (6),17 dup(0),9 dup (6),15 dup(0),5 dup (6),40 dup(0),5 dup (6),19 dup(0),11	dup +
    449	      09*(06) 0C*(00) 07* +  (6),15 dup(0),4 dup (6),32	dup(0)
    450	      (06) 14*(00) 0A*(06)+
    451	      11*(00) 09*(06) 0F* +
    452	      (00) 05*(06) 28*(00)+
    453	      05*(06) 13*(00) 0B* +
    454	      (06) 0F*(00) 04*(06)+
    455	      20*(00)
    456	1008  0C*(00) 04*(06) 10* +	     db	12 dup(0),4 dup	(6),16 dup(0),7	dup (6),4 dup(0),11 dup	(6),17 dup(0),3	dup (6),15  +
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 9
MAIN.ASM



    457	      (00) 07*(06) 04*(00)+  dup(0),11 dup (6),10 dup(0),10 dup	(6),15 dup(0),14 dup (6),15 dup(0),11 dup (6),13 dup(0),7   +
    458	      0B*(06) 11*(00) 03* +  dup (6),8 dup(0),6	dup (6),23 dup(0),9 dup	(6),15 dup(0),15 dup (6),12 dup(0),7 dup (6),30	dup +
    459	      (06) 0F*(00) 0B*(06)+  (0)
    460	      0A*(00) 0A*(06) 0F* +
    461	      (00) 0E*(06) 0F*(00)+
    462	      0B*(06) 0D*(00) 07* +
    463	      (06) 08*(00) 06*(06)+
    464	      17*(00) 09*(06) 0F* +
    465	      (00) 0F*(06) 0C*(00)+
    466	      07*(06) 1E*(00)
    467	1148  0B*(00) 07*(06) 0E* +	     db	11 dup(0),7 dup	(6),14 dup(0),23 dup (6),16 dup(0),3 dup (6),15	dup(0),11 dup (6),9 +
    468	      (00) 17*(06) 10*(00)+  dup(0),11 dup (6),13 dup(0),17 dup	(6),14 dup(0),12 dup (6),11 dup(0),9 dup (6),5 dup(0),9	dup +
    469	      03*(06) 0F*(00) 0B* +  (6),20 dup(0),12 dup (6),13 dup(0),17 dup (6),10 dup(0),9 dup (6),29 dup(0)
    470	      (06) 09*(00) 0B*(06)+
    471	      0D*(00) 11*(06) 0E* +
    472	      (00) 0C*(06) 0B*(00)+
    473	      09*(06) 05*(00) 09* +
    474	      (06) 14*(00) 0C*(06)+
    475	      0D*(00) 11*(06) 0A* +
    476	      (00) 09*(06) 1D*(00)
    477	1288  01*(06) 09*(00) 0A* +	     db	1 dup (6),9 dup(0),10 dup (6),10 dup(0),26 dup (6),15 dup(0),5 dup (6),12 dup(0),34 +
    478	      (06) 0A*(00) 1A*(06)+  dup (6),8 dup(0),21 dup (6),12 dup(0),14 dup (6),9	dup(0),11 dup (6),2 dup(0),13 dup (6),16 dup+
    479	      0F*(00) 05*(06) 0C* +  (0),17 dup	(6),8 dup(0),20	dup (6),8 dup(0),11 dup	(6),8 dup(0),3 dup (6),8 dup(0),6 dup (6),2 +
    480	      (00) 22*(06) 08*(00)+  dup(0),1 dup (6)
    481	      15*(06) 0C*(00) 0E* +
    482	      (06) 09*(00) 0B*(06)+
    483	      02*(00) 0D*(06) 10* +
    484	      (00) 11*(06) 08*(00)+
    485	      14*(06) 08*(00) 0B* +
    486	      (06) 08*(00) 03*(06)+
    487	      08*(00) 06*(06) 02* +
    488	      (00) 01*(06)
    489	13C8  02*(06) 07*(00) 0C* +	     db	2 dup (6),7 dup(0),12 dup (6),8	dup(0),31 dup (6),10 dup(0),6 dup (6),10 dup(0),65  +
    490	      (06) 08*(00) 1F*(06)+  dup (6),11	dup(0),17 dup (6),7 dup(0),28 dup (6),12 dup(0),49 dup (6),5 dup(0),13 dup (6),5 dup+
    491	      0A*(00) 06*(06) 0A* +  (0),7 dup (6),4 dup(0),11 dup (6)
    492	      (00) 41*(06) 0B*(00)+
    493	      11*(06) 07*(00) 1C* +
    494	      (06) 0C*(00) 31*(06)+
    495	      05*(00) 0D*(06) 05* +
    496	      (00) 07*(06) 04*(00)+
    497	      0B*(06)
    498	1508  03*(06) 05*(00) 0E* +	     db	3 dup (6),5 dup(0),14 dup (6),4	dup(0),36 dup (6),6 dup(0),10 dup (6),6	dup(0),68   +
    499	      (06) 04*(00) 24*(06)+  dup (6),9 dup(0),19 dup (6),5 dup(0),109 dup (6),3	dup(0),8 dup (6),3 dup(0),12 dup (6)
    500	      06*(00) 0A*(06) 06* +
    501	      (00) 44*(06) 09*(00)+
    502	      13*(06) 05*(00) 6D* +
    503	      (06) 03*(00) 08*(06)+
    504	      03*(00) 0C*(06)
    505	1648  3F*(06) 04*(00) 0B* +	     db	63 dup (6),4 dup(0),11 dup (6),4 dup(0),71 dup (6),7 dup(0),23 dup (6),1 dup(0),122 +
    506	      (06) 04*(00) 47*(06)+  dup (6),1 dup(0),13 dup (6)
    507	      07*(00) 17*(06) 01* +
    508	      (00) 7A*(06) 01*(00)+
    509	      0D*(06)
    510	1788  0140*(06)			     db	320 dup	(6)
    511	18C8  0140*(06)			     db	320 dup	(6)
    512	1A08  0140*(06)			     db	320 dup	(6)
    513	1B48  19*(06) 03*(05) 16* +	     db	25 dup(6),3 dup(05H),22	dup(6),2 dup(0DH),28 dup(6),4 dup(05H),24 dup(6),3 dup(0DH),+
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 10
MAIN.ASM



    514	      (06) 02*(0D) 1C*(06)+  26	dup(6),2 dup(05H),30 dup(6),4 dup(0DH),23 dup(6),3 dup(05H),27 dup(6),2	dup(0DH),25 dup(6),4+
    515	      04*(05) 18*(06) 03* +  dup(05H),20 dup(6)
    516	      (0D) 1A*(06) 02*(05)+
    517	      1E*(06) 04*(0D) 17* +
    518	      (06) 03*(05) 1B*(06)+
    519	      02*(0D) 19*(06) 04* +
    520	      (05) 14*(06)
    521	1C5D  12*(06) 06*(0D) 10* +	     db	18 dup(6),6 dup(0DH),16	dup(6),8 dup(05H),20 dup(6),7 dup(0DH),18 dup(6),9 dup(05H),+
    522	      (06) 08*(05) 14*(06)+  22	dup(6),8 dup(0DH),19 dup(6),7 dup(05H),21 dup(6),10 dup(0DH),17	dup(6),9 dup(05H),20 dup(6),+
    523	      07*(0D) 12*(06) 09* +  8 dup(0DH),18 dup(6)
    524	      (05) 16*(06) 08*(0D)+
    525	      13*(06) 07*(05) 15* +
    526	      (06) 0A*(0D) 11*(06)+
    527	      09*(05) 14*(06) 08* +
    528	      (0D) 12*(06)
    529	1D62  0C*(06) 0C*(05) 0E* +	     db	12 dup(6),12 dup(05H),14 dup(6),14 dup(0DH),16 dup(6),11 dup(05H),15 dup(6),13 dup  +
    530	      (06) 0E*(0D) 10*(06)+  (0DH),18 dup(6),12	dup(05H),16 dup(6),14 dup(0DH),17 dup(6),15 dup(05H),14	dup(6),13 dup(0DH), +
    531	      0B*(05) 0F*(06) 0D* +  15	dup(6),12 dup(05H),13 dup(6)
    532	      (0D) 12*(06) 0C*(05)+
    533	      10*(06) 0E*(0D) 11* +
    534	      (06) 0F*(05) 0E*(06)+
    535	      0D*(0D) 0F*(06) 0C* +
    536	      (05) 0D*(06)
    537	1E6C  08*(06) 12*(0D) 0A* +	     db	8 dup(6),18 dup(0DH),10	dup(6),20 dup(05H),12 dup(6),17	dup(0DH),11 dup(6),19 dup   +
    538	      (06) 14*(05) 0C*(06)+  (05H),14 dup(6),18	dup(0DH),13 dup(6),20 dup(05H),12 dup(6),19 dup(0DH),11	dup(6),18 dup(05H), +
    539	      11*(0D) 0B*(06) 13* +  10	dup(6),17 dup(0DH),9 dup(6)
    540	      (05) 0E*(06) 12*(0D)+
    541	      0D*(06) 14*(05) 0C* +
    542	      (06) 13*(0D) 0B*(06)+
    543	      12*(05) 0A*(06) 11* +
    544	      (0D) 09*(06)
    545	1F80  04*(06) 19*(05) 06* +	     db	4 dup(6),25 dup(05H),6 dup(6),28 dup(0DH),8 dup(6),24 dup(05H),7 dup(6),26 dup(0DH),+
    546	      (06) 1C*(0D) 08*(06)+  9 dup(6),25 dup(05H),8 dup(6),27 dup(0DH),7 dup(6),26 dup(05H),6 dup(6),24	dup(0DH),5 dup(6)
    547	      18*(05) 07*(06) 1A* +
    548	      (0D) 09*(06) 19*(05)+
    549	      08*(06) 1B*(0D) 07* +
    550	      (06) 1A*(05) 06*(06)+
    551	      18*(0D) 05*(06)
    552	2089  0140*(05)			     db	320 dup	(05H)
    553	21C9  0140*(0D)			     db	320 dup	(0DH)
    554	2309  0140*(05)			     db	320 dup	(05H)
    555	2449  0140*(0D)			     db	320 dup	(0DH)
    556	2589  0140*(05)			     db	320 dup	(05H)
    557	26C9  0140*(0D)			     db	320 dup	(0DH)
    558	2809  0140*(05)			     db	320 dup	(05H)
    559	2949  0140*(0D)			     db	320 dup	(0DH)
    560	2A89  0140*(05)			     db	320 dup	(05H)
    561	2BC9  0140*(0D)			     db	320 dup	(0DH)
    562	2D09  0140*(05)			     db	320 dup	(05H)
    563	2E49  0140*(0D)			     db	320 dup	(0DH)
    564	2F89  0140*(05)			     db	320 dup	(05H)
    565	30C9  0140*(0D)			     db	320 dup	(0DH)
    566	3209  0140*(05)			     db	320 dup	(05H)
    567	3349  0140*(0D)			     db	320 dup	(0DH)
    568	3489  0140*(05)			     db	320 dup	(05H)
    569	35C9  0140*(0D)			     db	320 dup	(0DH)
    570	3709  0140*(05)			     db	320 dup	(05H)
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 11
MAIN.ASM



    571	3849  0140*(0D)			     db	320 dup	(0DH)
    572	3989  0140*(05)			     db	320 dup	(05H)
    573	3AC9  0140*(0D)			     db	320 dup	(0DH)
    574	3C09  0140*(05)			     db	320 dup	(05H)
    575	3D49  0140*(0D)			     db	320 dup	(0DH)
    576	3E89  0140*(05)			     db	320 dup	(05H)
    577	3FC9  0140*(0D)			     db	320 dup	(0DH)
    578	4109  0140*(05)			     db	320 dup	(05H)
    579	4249  0140*(0D)			     db	320 dup	(0DH)
    580	4389  0140*(05)			     db	320 dup	(05H)
    581	44C9  0140*(0D)			     db	320 dup	(0DH)
    582	4609  0140*(05)			     db	320 dup	(05H)
    583	4749  0140*(0D)			     db	320 dup	(0DH)
    584	4889  0140*(05)			     db	320 dup	(05H)
    585	49C9  0140*(0D)			     db	320 dup	(0DH)
    586	4B09  0140*(05)			     db	320 dup	(05H)
    587	4C49  0140*(0D)			     db	320 dup	(0DH)
    588	4D89  0140*(05)			     db	320 dup	(05H)
    589	4EC9  0140*(0D)			     db	320 dup	(0DH)
    590	5009  0140*(05)			     db	320 dup	(05H)
    591	5149  0140*(0D)			     db	320 dup	(0DH)
    592	5289  0140*(05)			     db	320 dup	(05H)
    593	53C9  0140*(0D)			     db	320 dup	(0DH)
    594	5509  0140*(05)			     db	320 dup	(05H)
    595	5649  0140*(0D)			     db	320 dup	(0DH)
    596	5789  0140*(05)			     db	320 dup	(05H)
    597	58C9  0140*(0D)			     db	320 dup	(0DH)
    598	5A09  0140*(05)			     db	320 dup	(05H)
    599	5B49  0140*(0D)			     db	320 dup	(0DH)
    600	5C89  0140*(05)			     db	320 dup	(05H)
    601	5DC9  0140*(0D)			     db	320 dup	(0DH)
    602	5F09  0140*(05)			     db	320 dup	(05H)
    603	6049  0140*(0D)			     db	320 dup	(0DH)
    604	6189  0140*(05)			     db	320 dup	(05H)
    605	62C9  0140*(0D)			     db	320 dup	(0DH)
    606	6409  0140*(05)			     db	320 dup	(05H)
    607	6549  0140*(0D)			     db	320 dup	(0DH)
    608	6689  0140*(05)			     db	320 dup	(05H)
    609
    610	67C9  E100			 terrain_pos dw	320 * 180  ; Linha 130 (1/3 superior da	tela)
    611
    612
    613	67CB			     .code
    614	0000			     MAIN:
    615	0000  B8 0000s			 mov AX, @data
    616	0003  8E D8			 mov DS, AX
    617	0005  B8 A000			 mov AX, 0A000H
    618	0008  8E C0			 mov ES, AX
    619	000A  33 FF			 xor DI, DI
    620
    621	000C  E8 0096			 call N_ALE
    622	000F  E8 0106			 call INIT_ALIEN_RANDOM
    623
    624					 ; Define o modo de video
    625	0012  32 E4			 xor ah, ah
    626	0014  32 FF			 xor bh, bh
    627	0016  B0 13			 mov al, 13h
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 12
MAIN.ASM



    628	0018  CD 10			 int 10h
    629
    630					 ; Exibe titulo	e botoes do menu
    631	001A  E8 00AC			 call PRINT_TITLE_MENU
    632	001D  E8 004E			 call PRINT_BUTTONS
    633
    634	0020			     LOOP_MENU:
    635	0020  E8 022A			 call MOVE_MENU
    636					 ; Recebe entrada do usu??rio
    637	0023  B4 01			 mov ah, 1H
    638	0025  CD 16			 int 16H
    639	0027  74 F7			 jz LOOP_MENU
    640
    641					 ; Chama a fun????o de navega????o
    642	0029  E8 024E			 call HANDLE_INPUT
    643
    644					 ; Condi????o para iniciar o jogo
    645	002C  80 FC 1C			 cmp ah, 1CH
    646	002F  74 06			 je SELECT_OPTION
    647
    648					 ; Retorno ao loop do menu
    649	0031  32 E4			 xor ah, ah
    650	0033  CD 16			 int 16H
    651	0035  EB E9			 jmp LOOP_MENU
    652	0037			     SELECT_OPTION:
    653	0037  32 E4			 xor ah, ah
    654	0039  CD 16			 int 16H
    655
    656	003B  8A 26 0002r		 mov ah, menu
    657	003F  80 FC 01			 cmp ah, 1
    658	0042  74 26			 je FINISH
    659
    660	0044  E8 04A4			 call RESET_GAME  ; Reseta score, vidas	e fase
    661
    662	0047  E8 0275			 call RENDER_FASE  ; Mostra a tela da fase
    663
    664					 ; Aguarda um pouco para ver a fase
    665	004A  33 C9			 xor cx, cx
    666	004C  BA FFFF			 mov dx, 0FFFFH
    667	004F  B4 86			 mov ah, 86H
    668	0051  CD 15			 int 15h
    669
    670					 ; Limpa completamente a tela antes de iniciar o jogo
    671	0053  E8 0251			 call CLEAR_SCREEN
    672	0056  E8 024E			 call CLEAR_SCREEN  ; Limpa duas vezes para garantir
    673
    674	0059  E8 046E			 call RESET_SHIP
    675
    676	005C				 GAME_LOOP:
    677	005C  E8 04AF			 call RENDER_TERRAIN  ;	Renderiza o terreno primeiro
    678	005F  E8 035F			 call RENDER_STATUS   ;	Renderiza score, vidas e tempo
    679	0062  E8 0366			 call UPDATE_TIME
    680	0065  E8 03BD			 call UPDATE_SHIP
    681
    682	0068  EB F2			 jmp GAME_LOOP
    683
    684	006A			     FINISH:
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 13
MAIN.ASM



    685	006A  E8 022D			 CALL END_GAME
    686
    687	006D  C3			 ret
    688
    689				     ; Procedimento para exibir	os botoes INICIAR e SAIR
    690				     ; se menu == 0 o bot?o jogar fica vermelho
    691				     ; se menu == 1 o botao sair fica vermelho
    692	006E			     PRINT_BUTTONS proc
    693	006E  50			 push ax
    694	006F  B3 0F			 mov bl, 0FH
    695	0071  8A 26 0002r		 mov ah, menu
    696	0075  80 FC 00			 cmp ah, 0
    697	0078  75 02			 jne START_BTN
    698	007A  B3 0C			 mov bl, 0CH
    699
    700	007C			     START_BTN:
    701					 ; Exibe o bot??o INICIAR
    702	007C  BD 0004r			 mov bp, offset	btn_iniciar
    703	007F  B9 0051			 mov cx, btn_iniciar_length ; tamanho
    704	0082  32 D2			 xor dl, dl ; coluna = 0
    705	0084  B6 12			 mov dh, 18 ; linha = 18
    706	0086  E8 002B			 call PRINT_STRING
    707
    708	0089  B3 0F			 mov bl, 0FH
    709	008B  8A 26 0002r		 mov ah, menu
    710	008F  80 FC 01			 cmp ah, 1
    711	0092  75 02			 jne EXIT_BTN
    712	0094  B3 0C			 mov bl, 0CH
    713
    714	0096			     EXIT_BTN:
    715	0096  BD 0055r			 mov bp, offset	btn_sair
    716	0099  B9 0051			 mov cx, btn_sair_length ; tamanho
    717	009C  32 D2			 xor dl, dl ; coluna = 0
    718	009E  B6 15			 mov dh, 21 ; linha = 21
    719	00A0  E8 0011			 call PRINT_STRING
    720
    721	00A3  58			 pop ax
    722	00A4  C3			 ret
    723	00A5			     PRINT_BUTTONS endp
    724
    725				     ; gera um valor aleatorio do clock	com 1AH
    726	00A5			     N_ALE proc
    727	00A5  50			 push ax
    728	00A6  51			 push cx
    729	00A7  52			 push dx
    730
    731	00A8  33 C0			 xor ax, ax
    732	00AA  CD 1A			 int 1AH
    733	00AC  89 16 0000r		 mov ale, dx
    734
    735	00B0  5A			 pop dx
    736	00B1  59			 pop cx
    737	00B2  58			 pop ax
    738	00B3  C3			 ret
    739	00B4			     N_ALE endp
    740
    741				     ;	Desenha	CX caracteres a	partir de ES:BP	na posi??o (linha DH, coluna DL).
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 14
MAIN.ASM



    742				     ;	Usa a cor/atributo em BL (p.ex.: 0Fh = branco, 0Ch = vermelho-claro).
    743				     ;	Atualiza o cursor ap?s imprimir	(modo AL=1).
    744				     ;	ES deve	apontar	para o segmento	onde est? a string (comumente ES=DS).
    745				     ;	BP deve	conter o offset	da string dentro de ES.
    746	00B4			     PRINT_STRING PROC
    747	00B4  50			 push AX
    748	00B5  53			 push BX
    749	00B6  1E			 push DS
    750	00B7  06			 push ES
    751	00B8  56			 push SI
    752	00B9  55			 push BP
    753
    754	00BA  B4 13			 mov ah, 13h
    755	00BC  B0 01			 mov al, 1
    756
    757	00BE  32 FF			 xor bh, bh
    758	00C0  CD 10			 int 10h  ; escreve string
    759
    760	00C2  5D			 pop BP
    761	00C3  5E			 pop SI
    762	00C4  07			 pop ES
    763	00C5  1F			 pop DS
    764	00C6  5B			 pop BX
    765	00C7  58			 pop AX
    766	00C8  C3			 ret
    767	00C9			     PRINT_STRING ENDP
    768
    769	00C9			     PRINT_TITLE_MENU proc
    770	00C9  8C D8			 mov ax, ds
    771	00CB  8E C0			 mov es, ax
    772
    773					 ; ajusta resgitradores	pro PRINT_STRING
    774	00CD  BD 00A6r			 mov bp, offset	string
    775	00D0  B9 00C8			 mov cx, string_length ; tamanho
    776	00D3  B3 02			 mov bl, 02H ; Cor verde (se bit 1 de AL estiver limpo,	usamos BL)
    777	00D5  BA 03C0			 mov dx, 320*3 ; linha / coluna
    778	00D8  E8 FFD9			 call PRINT_STRING
    779
    780	00DB  C3			 ret
    781	00DC			     PRINT_TITLE_MENU endp
    782
    783				     ; Renderiza sprite	da nave
    784				     ; AX = posição na tela
    785				     ; SI = offset do sprite
    786	00DC			     RENDER_SPRITE proc
    787	00DC  53			 push bx
    788	00DD  51			 push cx
    789	00DE  52			 push dx
    790	00DF  57			 push di
    791	00E0  06			 push es
    792	00E1  1E			 push ds
    793	00E2  50			 push ax
    794
    795	00E3  B8 0000s			 mov ax, @data
    796	00E6  8E D8			 mov ds, ax
    797
    798	00E8  B8 A000			 mov ax, 0A000h
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 15
MAIN.ASM



    799	00EB  8E C0			 mov es, ax
    800
    801	00ED  58			 pop ax
    802	00EE  8B F8			 mov di, ax
    803	00F0  BA 0012			 mov dx, SPR_H
    804	00F3  50			 push ax
    805
    806	00F4			     DRAW_SHIP_LINE:
    807	00F4  B9 0016			 mov cx, SPR_W
    808	00F7  F3> A4			 rep movsb
    809	00F9  81 C7 012A		 add di, SCREEN_W - SPR_W
    810	00FD  4A			 dec dx
    811	00FE  75 F4			 jnz DRAW_SHIP_LINE
    812
    813	0100  58			 pop ax
    814	0101  1F			 pop ds
    815	0102  07			 pop es
    816	0103  5F			 pop di
    817	0104  5A			 pop dx
    818	0105  59			 pop cx
    819	0106  5B			 pop bx
    820	0107  C3			 ret
    821	0108			     RENDER_SPRITE endp
    822
    823				     ; usando o	valor aleatorio	gerado em N_ALE
    824	0108			     RANDOM_UINT16 proc
    825	0108  52			 push dx
    826
    827	0109  B8 6255			 mov ax, 25173
    828	010C  F7 26 0000r		 mul ale
    829	0110  05 3619			 add ax, 13849
    830	0113  A3 0000r			 mov ale, ax
    831
    832	0116  5A			 pop dx
    833	0117  C3			 ret
    834	0118			     endp
    835
    836				     ; Inicializa posi??o e dire??o aleat?rias do alien
    837				     ; Requer: RANDOM_UINT16 (retorna AX pseudo-aleat?rio)
    838				     ; Usa: y fixo = 100 (troque se quiser), largura sprite = 14 (logo x<=306)
    839
    840	0118			     INIT_ALIEN_RANDOM proc
    841	0118  50			 push ax
    842	0119  53			 push bx
    843	011A  51			 push cx
    844	011B  52			 push dx
    845
    846					 ; x aleat?rio em [0..306]
    847	011C  E8 FFE9			 call RANDOM_UINT16	    ; AX = rand
    848	011F  33 D2			 xor dx, dx
    849	0121  BB 0133			 mov bx, 307		    ; divisor
    850	0124  F7 F3			 div bx			    ; AX/307
    851	0126  8B CA			 mov cx, dx		    ; CX = x (0..306)
    852
    853					 ; y*320 (y = 125)
    854	0128  BB 007D			 mov bx, 125
    855	012B  8B C3			 mov ax, bx
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 16
MAIN.ASM



    856	012D  D1 E3 D1 E3 D1 E3	D1+	 shl bx, 6		    ; y<<6
    857	      E3 D1 E3 D1 E3
    858	0139  D1 E0 D1 E0 D1 E0	D1+	 shl ax, 8		    ; y<<8
    859	      E0 D1 E0 D1 E0 D1	E0+
    860	      D1 E0
    861	0149  03 D8			 add bx, ax		    ; bx = y*320
    862
    863					 ; alien_pos = y*320 + x
    864	014B  03 D9			 add bx, cx
    865	014D  89 1E 0485r		 mov alien_pos,	bx
    866
    867	0151  5A			 pop dx
    868	0152  59			 pop cx
    869	0153  5B			 pop bx
    870	0154  58			 pop ax
    871	0155  C3			 ret
    872	0156			     INIT_ALIEN_RANDOM endp
    873
    874				     ; DI = posi??o linear do canto esquerdo do	sprite
    875	0156			     CLEAR_SPRITE proc
    876	0156  50			 push ax
    877	0157  51			 push cx
    878	0158  57			 push di
    879	0159  06			 push es
    880
    881	015A  B8 A000			 mov ax, 0A000h
    882	015D  8E C0			 mov es, ax
    883	015F  B9 0012			 mov cx, SPR_H
    884
    885	0162			     CLEAR_LINE:
    886	0162  51			 push cx
    887	0163  B9 0016			 mov cx, SPR_W
    888	0166  32 C0			 xor al, al	     ; cor 0 (preto)
    889	0168  F3> AA			 rep stosb
    890	016A  81 C7 012A		 add di, SCREEN_W - SPR_W
    891	016E  59			 pop cx
    892	016F  E2 F1			 loop CLEAR_LINE
    893
    894	0171  07			 pop es
    895	0172  5F			 pop di
    896	0173  59			 pop cx
    897	0174  58			 pop ax
    898	0175  C3			 ret
    899	0176			     CLEAR_SPRITE endp
    900
    901				     ; DI = posição linear do	canto esquerdo da nave (29x13)
    902	0176			     CLEAR_SHIP_SPRITE proc
    903	0176  50			 push ax
    904	0177  51			 push cx
    905	0178  57			 push di
    906	0179  06			 push es
    907
    908	017A  B8 A000			 mov ax, 0A000h
    909	017D  8E C0			 mov es, ax
    910	017F  B9 0012			 mov cx, SPR_H
    911
    912	0182			     CLEAR_SHIP_LINE:
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 17
MAIN.ASM



    913	0182  51			 push cx
    914	0183  B9 0016			 mov cx, SPR_W
    915	0186  32 C0			 xor al, al
    916	0188  F3> AA			 rep stosb
    917	018A  81 C7 012A		 add di, SCREEN_W - SPR_W
    918	018E  59			 pop cx
    919	018F  E2 F1			 loop CLEAR_SHIP_LINE
    920
    921	0191  07			 pop es
    922	0192  5F			 pop di
    923	0193  59			 pop cx
    924	0194  58			 pop ax
    925	0195  C3			 ret
    926	0196			     CLEAR_SHIP_SPRITE endp
    927
    928
    929				     ; MOVE_WRAP_LEFT_AND_DRAW
    930				     ; Entradas:
    931				     ;	 BX = &pos_var		 (ex.: OFFSET meteor_pos)
    932				     ;	 SI = offset sprite	 (ex.: OFFSET meteor_sprite)
    933				     ;	 AX = pos_inicial	 (ex.: meteor_pos_ini)
    934				     ;	 DX = limite_esquerdo	 (ex.: 4)
    935				     ; Efeito:
    936				     ;	 - limpa, move 1 px p/ esquerda	(wrap p/ direita se necessário), redesenha
    937	0196			     MOVE_WRAP_LEFT_AND_DRAW proc
    938	0196  50			 push ax
    939	0197  53			 push bx
    940	0198  51			 push cx
    941	0199  52			 push dx
    942	019A  56			 push si
    943	019B  57			 push di
    944	019C  55			 push bp
    945
    946	019D  8B E8			 mov bp, ax		 ; BP =	posição inicial (para	wrap)
    947	019F  8B FA			 mov di, dx		 ; DI =	limite esquerdo
    948
    949
    950
    951					 ; Verifica limites: x = pos % 320
    952	01A1  8B 07			 mov ax, [bx]
    953	01A3  33 D2			 xor dx, dx
    954	01A5  B9 0140			 mov cx, 320
    955	01A8  F7 F1			 div cx			 ; DX =	x (coordenada X)
    956
    957	01AA  3B D7			 cmp dx, di		 ; compara com limite esquerdo
    958	01AC  77 09			 ja  MOVE_LEFT_MENU
    959
    960					 ; wrap	para a direita
    961	01AE  8B 3F			 mov di, [bx]
    962	01B0  E8 FFA3			 call CLEAR_SPRITE
    963
    964	01B3  8B C5			 mov ax, bp		 ; AX =	posição inicial
    965	01B5  89 07			 mov [bx], ax
    966
    967					 ; jmp DRAW_SPRITE
    968
    969	01B7			     MOVE_LEFT_MENU:
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 18
MAIN.ASM



    970					 ; move	para a esquerda	usando MOVE_LEFT_PROC
    971					 ; configura parâmetros para MOVE_LEFT_PROC
    972	01B7  53			 push bx		     ; salva BX	original
    973	01B8  57			 push di		     ; salva DI	original
    974
    975					 ; BX =	ponteiro para posição	(já está correto)
    976	01B9  B9 0001			 mov cx, 1		     ; velocidade = 1 pixel
    977	01BC  8B D7			 mov dx, di		     ; limite esquerdo
    978	01BE  E8 03BA			 call MOVE_LEFT_PROC
    979
    980	01C1  5F			 pop di			     ; restaura	DI
    981	01C2  5B			 pop bx			     ; restaura	BX
    982
    983	01C3			     DRAW_SPRITE:
    984					 ; Renderiza sprite na nova posição
    985	01C3  8B 07			 mov ax, [bx]		 ; AX =	nova posição
    986					 ; SI já contém o offset do sprite
    987	01C5  E8 FF14			 call RENDER_SPRITE
    988
    989	01C8  5D			 pop bp
    990	01C9  5F			 pop di
    991	01CA  5E			 pop si
    992	01CB  5A			 pop dx
    993	01CC  59			 pop cx
    994	01CD  5B			 pop bx
    995	01CE  58			 pop ax
    996	01CF  C3			 ret
    997	01D0			     MOVE_WRAP_LEFT_AND_DRAW endp
    998
    999				     ; MOVE_BOUNCE_X_AND_DRAW
   1000				     ; Entradas:
   1001				     ;	 BX = &pos_var		 (ex.: OFFSET alien_pos)
   1002				     ;	 BP = &dir_flag		 (ex.: OFFSET alien_dir)  ; byte: 0=esq, 1=dir
   1003				     ;	 SI = offset sprite	 (ex.: OFFSET alien_sprite)
   1004				     ;	 AX = L	(left bound)	 (ex.: ALIEN_L)
   1005				     ;	 DX = R	(right bound)	 (ex.: ALIEN_R)
   1006				     ; Efeito:
   1007				     ;	 - limpa as bordas, move 1 px na direção, redesenha
   1008	01D0			     MOVE_BOUNCE_X_AND_DRAW proc
   1009	01D0  50			 push ax
   1010	01D1  53			 push bx
   1011	01D2  51			 push cx
   1012	01D3  52			 push dx
   1013	01D4  56			 push si
   1014	01D5  57			 push di
   1015
   1016	01D6  8B C8			 mov cx, ax		 ; CX =	L (guarda L)
   1017	01D8  8B 3F			 mov di, [bx]		 ; DI =	pos atual
   1018	01DA  8B C7			 mov ax, di
   1019	01DC  E8 FF77			 call CLEAR_SPRITE
   1020
   1021	01DF  8B 07			 mov ax, [bx]		 ; AX =	pos
   1022
   1023					 ; borda esquerda
   1024	01E1  3B C1			 cmp ax, cx
   1025	01E3  77 0B			 ja  CHECK_RIGHT
   1026	01E5  8B C1			 mov ax, cx		 ; clamp = L
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 19
MAIN.ASM



   1027	01E7  89 07			 mov [bx], ax
   1028	01E9  C6 46 00 01		 mov byte ptr [bp], 1	 ; ir para direita
   1029	01ED  EB 0D 90			 jmp DECIDE
   1030
   1031	01F0			     CHECK_RIGHT:
   1032					 ; borda direita
   1033	01F0  3B C2			 cmp ax, dx
   1034	01F2  72 08			 jb  DECIDE
   1035	01F4  8B C2			 mov ax, dx		 ; clamp = R
   1036	01F6  89 07			 mov [bx], ax
   1037	01F8  C6 46 00 00		 mov byte ptr [bp], 0	 ; ir para esquerda
   1038
   1039	01FC			     DECIDE:
   1040	01FC  8A 56 00			 mov dl, byte ptr [bp]	 ; DL =	dir (0 / 1)
   1041	01FF  80 FA 01			 cmp dl, 1
   1042	0202  74 06			 jz  RIGHT
   1043					 ; esquerda
   1044	0204  48			 dec ax
   1045	0205  89 07			 mov [bx], ax
   1046	0207  EB 04 90			 jmp DRAW_BOUNCE
   1047
   1048	020A			     RIGHT:
   1049	020A  40			 inc ax
   1050	020B  89 07			 mov [bx], ax
   1051
   1052	020D			     DRAW_BOUNCE:
   1053					 ; AX j? tem pos atualizada
   1054	020D  E8 FECC			 call RENDER_SPRITE
   1055
   1056	0210  5F			 pop di
   1057	0211  5E			 pop si
   1058	0212  5A			 pop dx
   1059	0213  59			 pop cx
   1060	0214  5B			 pop bx
   1061	0215  58			 pop ax
   1062	0216  C3			 ret
   1063	0217			     MOVE_BOUNCE_X_AND_DRAW endp
   1064
   1065	0217			     MOVE_WRAP_RIGHT_AND_DRAW proc
   1066	0217  50			 push ax
   1067	0218  53			 push bx
   1068	0219  51			 push cx
   1069	021A  52			 push dx
   1070	021B  56			 push si
   1071	021C  57			 push di
   1072
   1073	021D  BE 0616r			 mov si, offset	ship_pos
   1074	0220  8B 3C			 mov di, [si]
   1075					 ; Verifica limites: x = ship_pos % 320
   1076	0222  A1 0616r			 mov ax, [ship_pos]
   1077	0225  33 D2			 xor dx, dx
   1078	0227  B9 0140			 mov cx, 320
   1079	022A  F7 F1			 div cx			      ;	DX = x
   1080					 ; se x	>= (320-SPR_W),	não anda para a direita
   1081	022C  BB 012A			 mov bx, 320 - SPR_W	     ; limite direito considerando largura da nave
   1082	022F  3B D3			 cmp dx, bx
   1083	0231  72 0D			 jb MOVE_RIGHT_MENU
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 20
MAIN.ASM



   1084					 ; wrap	para a esquerda
   1085	0233  8B 3E 0616r		 mov di, ship_pos
   1086	0237  E8 FF1C			 call CLEAR_SPRITE
   1087	023A  C7 06 0616r 5DC0		 mov ship_pos, ship_pos_ini	       ; AX = L
   1088
   1089	0240			     MOVE_RIGHT_MENU:
   1090	0240  E8 0361			 call MOVE_RIGHT_PROC
   1091
   1092	0243			     DRAW_RIGHT:
   1093
   1094	0243  E8 0272			 call RENDER_SHIP
   1095
   1096	0246  5F			 pop di
   1097	0247  5E			 pop si
   1098	0248  5A			 pop dx
   1099	0249  59			 pop cx
   1100	024A  5B			 pop bx
   1101	024B  58			 pop ax
   1102	024C  C3			 ret
   1103	024D			     MOVE_WRAP_RIGHT_AND_DRAW endp
   1104
   1105	024D			     MOVE_MENU PROC
   1106	024D  BB 0614r			 mov bx, OFFSET	meteor_pos
   1107	0250  BE 016Er			 mov si, OFFSET	meteor_sprite
   1108	0253  B8 7E2C			 mov ax, meteor_pos_ini	     ; posição inicial para wrap
   1109	0256  BA 0004			 mov dx, 4		     ; limite esquerdo
   1110	0259  E8 FF3A			 call MOVE_WRAP_LEFT_AND_DRAW
   1111
   1112	025C  BB 0485r			 mov bx, OFFSET	alien_pos
   1113	025F  BD 0487r			 mov bp, OFFSET	alien_dir
   1114	0262  BE 02FAr			 mov si, OFFSET	alien_sprite
   1115	0265  B8 9C40			 mov ax, ALIEN_L
   1116	0268  BA 9D6A			 mov dx, ALIEN_R
   1117	026B  E8 FF62			 call MOVE_BOUNCE_X_AND_DRAW
   1118
   1119	026E  E8 FFA6			 call MOVE_WRAP_RIGHT_AND_DRAW
   1120					 ; Delay
   1121					 ; usa interrup??o 15h que faz o delay
   1122					 ; dx fica com o valor do deplay, quanto maior mais delay tera
   1123	0271  33 C9			 xor cx, cx
   1124	0273  BA 2710			 mov dx, 2710H
   1125	0276  B4 86			 mov ah, 86H
   1126	0278  CD 15			 int 15h
   1127	027A			     MOVE_MENU ENDP
   1128
   1129
   1130	027A			     HANDLE_INPUT PROC
   1131	027A  80 FC 48			 cmp ah, 48H
   1132	027D  74 08			 je ARROW_UP
   1133
   1134	027F  80 FC 50			 cmp ah, 50H
   1135	0282  74 0C			 je ARROW_DOWN
   1136
   1137	0284  EB 13 90			 jmp END_HANDLE
   1138
   1139	0287			     ARROW_UP:
   1140	0287  32 E4			 xor ah, ah
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 21
MAIN.ASM



   1141	0289  88 26 0002r		 mov menu, ah
   1142
   1143	028D  EB 07 90			 jmp RENDER_BUTTONS
   1144
   1145	0290			     ARROW_DOWN:
   1146	0290  B4 01			 mov ah, 1
   1147	0292  88 26 0002r		 mov menu, ah
   1148
   1149	0296			     RENDER_BUTTONS:
   1150	0296  E8 FDD5			 call PRINT_BUTTONS
   1151
   1152	0299			     END_HANDLE:
   1153	0299  C3			 ret
   1154	029A			     ENDP
   1155
   1156	029A			     END_GAME proc
   1157					 ; Back	to text	mode
   1158	029A  32 E4			 xor ah, ah
   1159	029C  B0 03			 mov al, 3h
   1160	029E  CD 10			 int 10h
   1161
   1162					 ; Ends	program
   1163	02A0  B4 4C			 mov ah, 4ch
   1164	02A2  32 C0			 xor al, al
   1165	02A4  CD 21			 int 21h
   1166	02A6  C3			 ret
   1167	02A7			     endp
   1168
   1169	02A7			     CLEAR_SCREEN proc
   1170	02A7  50			 push ax
   1171	02A8  51			 push cx
   1172	02A9  06			 push es
   1173	02AA  57			 push di
   1174
   1175	02AB  B8 A000			 mov ax,0A000h
   1176	02AE  8E C0			 mov es,ax
   1177	02B0  33 FF			 xor di, di
   1178	02B2  B9 7D00			 mov cx, 32000d
   1179	02B5  FC			 cld
   1180	02B6  33 C0			 xor ax, ax
   1181	02B8  F3> AB			 rep stosw
   1182
   1183	02BA  5F			 pop di
   1184	02BB  07			 pop es
   1185	02BC  59			 pop cx
   1186	02BD  58			 pop ax
   1187	02BE  C3			 ret
   1188	02BF			     endp
   1189
   1190	02BF			     RENDER_FASE proc
   1191	02BF  50			 push ax
   1192	02C0  53			 push bx
   1193	02C1  51			 push cx
   1194	02C2  52			 push dx
   1195	02C3  55			 push bp
   1196
   1197	02C4  E8 FFE0			 call CLEAR_SCREEN
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 22
MAIN.ASM



   1198
   1199	02C7  C7 06 0616r 0000		 mov ship_pos, 0
   1200
   1201					 ; Print Sector
   1202	02CD  33 C0			 xor ax, ax
   1203	02CF  A0 0003r			 mov al, fase
   1204
   1205	02D2  3C 04			 cmp al, 4
   1206	02D4  75 00			 jne SUM_POINTS
   1207					 ;call SHOW_YOU_WIN
   1208
   1209	02D6			     SUM_POINTS:
   1210	02D6  FE C8			 dec al	; number vector	index
   1211
   1212					 ;mov bx, 1000
   1213					 ;mul bx
   1214					 ;xor bx, bx
   1215					 ;mov bl, allies_count
   1216					 ;mul bx
   1217					 ;add score, ax
   1218
   1219	02D8  33 C0			 xor ax, ax
   1220	02DA  A0 0003r			 mov al, fase
   1221	02DD  FE C8			 dec al	; number vector	index
   1222	02DF  D0 E0			 shl al, 1 ; multiply by 2 (since num_vec values are dw)
   1223	02E1  BB 086Br			 mov bx, offset	fase_vec ; get the vector
   1224	02E4  03 D8			 add bx, ax ; add the index to the vector ptr
   1225	02E6  8B 2F			 mov bp, [bx] ;	set BP to base address of number
   1226	02E8  B9 00C6			 mov cx, fase_string_length
   1227	02EB  32 D2			 xor dl, dl; line
   1228	02ED  B6 0A			 mov dh, 10
   1229
   1230	02EF  B3 0B			 mov bl, 0BH ; Cor verde (se bit 1 de AL estiver limpo,	usamos BL)
   1231	02F1  E8 FDC0			 call PRINT_STRING
   1232
   1233	02F4  33 C9			 xor cx, cx
   1234	02F6  B9 001E			 mov cx, 1Eh
   1235	02F9  BA 2710			 mov dx, 2710H
   1236	02FC  B4 86			 mov ah, 86H
   1237	02FE  CD 15			 int 15h
   1238
   1239	0300  E8 FFA4			 call CLEAR_SCREEN
   1240
   1241	0303  5D			 pop bp
   1242	0304  5A			 pop dx
   1243	0305  59			 pop cx
   1244	0306  5B			 pop bx
   1245	0307  58			 pop ax
   1246	0308  C3			 ret
   1247	0309			     endp
   1248
   1249	0309			     RENDER_TIME proc
   1250	0309  55			 push bp
   1251	030A  53			 push bx
   1252	030B  51			 push cx
   1253	030C  52			 push dx
   1254
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 23
MAIN.ASM



   1255	030D  BD 0875r			 mov bp, offset	time_str
   1256	0310  B9 0006			 mov cx, time_str_len
   1257	0313  B3 0F			 mov bl, 0FH ; white
   1258	0315  32 F6			 xor dh, dh
   1259	0317  B2 1E			 mov dl, 30
   1260	0319  E8 FD98			 call PRINT_STRING
   1261
   1262	031C  33 C0			 xor ax, ax
   1263	031E  A0 0871r			 mov al, time
   1264	0321  BE 0873r			 mov si, offset	time_buffer
   1265	0324  83 C6 01			 add si, time_buffer_len - 1
   1266	0327  B9 0002			 mov cx, 2
   1267	032A  E8 0014			 call CONVERT_UINT16
   1268
   1269	032D  BD 0873r			 mov bp, offset	time_buffer
   1270	0330  B9 0002			 mov cx, time_buffer_len
   1271	0333  B3 02			 mov bl, 02H ; green
   1272	0335  32 F6			 xor dh, dh
   1273	0337  B2 24			 mov dl, 36
   1274	0339  E8 FD78			 call PRINT_STRING
   1275
   1276	033C  5A			 pop dx
   1277	033D  59			 pop cx
   1278	033E  5B			 pop bx
   1279	033F  5D			 pop bp
   1280
   1281	0340  C3			 ret
   1282	0341			     endp
   1283
   1284
   1285				     ; AX = uint16 value to output
   1286				     ; SI = offset of end off string buffer
   1287				     ; CX = number of digits to	write
   1288	0341			     CONVERT_UINT16 proc
   1289	0341  56			 push si
   1290	0342  50			 push ax
   1291	0343  53			 push bx
   1292	0344  51			 push cx
   1293	0345  52			 push dx
   1294
   1295	0346  BB 000A			 mov bx, 10
   1296
   1297	0349			     LOOP_DIV:
   1298	0349  33 D2			 xor dx, dx
   1299	034B  F7 F3			 div bx
   1300
   1301	034D  80 C2 30			 add dl, '0'
   1302	0350  88 14			 mov byte ptr ds:[si], dl
   1303	0352  4E			 dec si
   1304
   1305	0353  49			 dec cx
   1306	0354  75 F3			 jnz LOOP_DIV
   1307
   1308	0356  5A			 pop dx
   1309	0357  59			 pop cx
   1310	0358  5B			 pop bx
   1311	0359  58			 pop ax
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 24
MAIN.ASM



   1312	035A  5E			 pop si
   1313	035B  C3			 ret
   1314	035C			     endp
   1315
   1316				     ; Renderiza o score na parte superior esquerda
   1317	035C			     RENDER_SCORE proc
   1318	035C  56			 push si
   1319	035D  55			 push bp
   1320	035E  50			 push ax
   1321	035F  53			 push bx
   1322	0360  51			 push cx
   1323	0361  52			 push dx
   1324
   1325	0362  BD 0882r			 mov bp, offset	score_str
   1326	0365  B9 0006			 mov cx, score_str_len
   1327	0368  B3 0F			 mov bl, 0FH ; branco
   1328	036A  33 D2			 xor dx, dx  ; linha 0,	coluna 0
   1329	036C  E8 FD45			 call PRINT_STRING
   1330
   1331	036F  A1 087Br			 mov ax, score
   1332	0372  BE 087Dr			 mov si, offset	score_buffer
   1333	0375  83 C6 04			 add si, score_buffer_len - 1
   1334	0378  B9 0005			 mov cx, score_buffer_len
   1335	037B  E8 FFC3			 call CONVERT_UINT16
   1336
   1337	037E  BD 087Dr			 mov bp, offset	score_buffer
   1338	0381  B9 0005			 mov cx, score_buffer_len
   1339	0384  B3 0A			 mov bl, 0AH ; verde claro
   1340	0386  32 F6			 xor dh, dh
   1341	0388  B2 07			 mov dl, 7   ; coluna 7	(após "SCORE:")
   1342	038A  E8 FD27			 call PRINT_STRING
   1343
   1344	038D  5A			 pop dx
   1345	038E  59			 pop cx
   1346	038F  5B			 pop bx
   1347	0390  58			 pop ax
   1348	0391  5D			 pop bp
   1349	0392  5E			 pop si
   1350	0393  C3			 ret
   1351	0394			     RENDER_SCORE endp
   1352
   1353				     ; Renderiza as vidas no centro da barra de	status
   1354	0394			     RENDER_LIVES proc
   1355	0394  50			 push ax
   1356	0395  53			 push bx
   1357	0396  51			 push cx
   1358	0397  56			 push si
   1359	0398  57			 push di
   1360
   1361	0399  33 C9			 xor cx, cx
   1362	039B  8A 0E 0618r		 mov cl, lives
   1363	039F  80 F9 00			 cmp cl, 0
   1364	03A2  74 17			 je END_RENDER_LIVES
   1365
   1366					 ; Posição inicial: linha 5, centralizado
   1367					 ; Centro da tela = 160, cada vida ocupa 19 pixels + 6 de espaço = 25
   1368					 ; Para	3 vidas: 3*25 =	75 pixels, começa em 160-37 = 123
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 25
MAIN.ASM



   1369	03A4  B8 06BB			 mov ax, 5 * SCREEN_W +	123  ; linha 5,	coluna 123 (centralizado)
   1370	03A7  BE 0488r			 mov si, offset	ship_sprite
   1371
   1372	03AA			     RENDER_SINGLE_LIFE:
   1373	03AA  51			 push cx
   1374	03AB  50			 push ax
   1375	03AC  56			 push si
   1376	03AD  BE 0488r			 mov si, offset	ship_sprite  ; Resetar SI para o início do sprite
   1377	03B0  E8 FD29			 call RENDER_SPRITE
   1378	03B3  5E			 pop si
   1379	03B4  58			 pop ax
   1380	03B5  05 0019			 add ax, 25  ; próxima	vida (19 pixels	+ 6 de espaço)
   1381	03B8  59			 pop cx
   1382	03B9  E2 EF			 loop RENDER_SINGLE_LIFE
   1383
   1384	03BB			     END_RENDER_LIVES:
   1385	03BB  5F			 pop di
   1386	03BC  5E			 pop si
   1387	03BD  59			 pop cx
   1388	03BE  5B			 pop bx
   1389	03BF  58			 pop ax
   1390	03C0  C3			 ret
   1391	03C1			     RENDER_LIVES endp
   1392
   1393				     ; Renderiza toda a	barra de status	(score + vidas + tempo)
   1394	03C1			     RENDER_STATUS proc
   1395	03C1  E8 FF98			 call RENDER_SCORE
   1396	03C4  E8 FFCD			 call RENDER_LIVES
   1397	03C7  E8 FF3F			 call RENDER_TIME
   1398	03CA  C3			 ret
   1399	03CB			     RENDER_STATUS endp
   1400
   1401	03CB			     UPDATE_TIME proc
   1402	03CB  50			 push ax
   1403	03CC  53			 push bx
   1404
   1405	03CD  8A 26 0872r		 mov ah, timeout
   1406	03D1  FE C4			 inc ah
   1407	03D3  80 FC 64			 cmp ah, 100
   1408	03D6  75 46			 jne SAVE_TIMEOUT
   1409
   1410	03D8  8A 26 0871r		 mov ah, time
   1411	03DC  FE CC			 dec ah
   1412	03DE  75 10			 jnz SAVE_TIME
   1413
   1414	03E0  8A 26 0003r		 mov ah, fase
   1415	03E4  FE C4			 inc ah
   1416	03E6  88 26 0003r		 mov fase, ah
   1417
   1418	03EA  E8 FED2			 call RENDER_FASE
   1419
   1420	03ED  EB 33 90			 jmp END_TIME
   1421
   1422	03F0			     SAVE_TIME:
   1423	03F0  88 26 0871r		 mov time, ah
   1424
   1425					 ; Adiciona pontos por segundo baseado na fase
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 26
MAIN.ASM



   1426	03F4  8A 1E 0003r		 mov bl, fase
   1427	03F8  80 FB 01			 cmp bl, 1
   1428	03FB  75 08			 jne CHECK_FASE2
   1429	03FD  83 06 087Br 0A		 add score, 10	; Fase 1: +10 pontos/segundo
   1430	0402  EB 1A 90			 jmp SAVE_TIMEOUT
   1431
   1432	0405			     CHECK_FASE2:
   1433	0405  80 FB 02			 cmp bl, 2
   1434	0408  75 08			 jne CHECK_FASE3
   1435	040A  83 06 087Br 0F		 add score, 15	; Fase 2: +15 pontos/segundo
   1436	040F  EB 0D 90			 jmp SAVE_TIMEOUT
   1437
   1438	0412			     CHECK_FASE3:
   1439	0412  80 FB 03			 cmp bl, 3
   1440	0415  75 07			 jne SAVE_TIMEOUT
   1441	0417  83 06 087Br 14		 add score, 20	; Fase 3: +20 pontos/segundo
   1442
   1443	041C  32 E4			 xor ah, ah
   1444
   1445	041E			     SAVE_TIMEOUT:
   1446	041E  88 26 0872r		 mov timeout, ah
   1447
   1448	0422			     END_TIME:
   1449	0422  5B			 pop bx
   1450	0423  58			 pop ax
   1451	0424  C3			 ret
   1452	0425			     endp
   1453
   1454
   1455
   1456	0425			     UPDATE_SHIP proc
   1457	0425  56			 push si
   1458	0426  57			 push di
   1459	0427  50			 push ax
   1460	0428  53			 push bx
   1461
   1462	0429  B4 01			 mov ah, 1H
   1463	042B  CD 16			 int 16H
   1464	042D  74 07			 jz END_SHIP_UPDATE
   1465
   1466	042F  E8 000C			 call HANDLE_CONTROLS
   1467	0432  32 E4			 xor ah, ah
   1468	0434  CD 16			 int 16H
   1469
   1470	0436			     END_SHIP_UPDATE:
   1471	0436  5B			 pop bx
   1472	0437  58			 pop ax
   1473	0438  5F			 pop di
   1474	0439  5E			 pop si
   1475	043A  E8 007B			 call RENDER_SHIP
   1476	043D  C3			 ret
   1477	043E			     endp
   1478
   1479
   1480				     ; Proc para controle da nave
   1481	043E			     HANDLE_CONTROLS proc
   1482	043E  56			 push si
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 27
MAIN.ASM



   1483	043F  57			 push di
   1484	0440  50			 push ax
   1485	0441  53			 push bx
   1486	0442  51			 push cx
   1487
   1488	0443  BE 0616r			 mov si, offset	ship_pos
   1489	0446  8B 3C			 mov di, [si]
   1490
   1491	0448  80 FC 48			 cmp ah, 48H
   1492	044B  74 1D			 je MOVE_UP
   1493
   1494	044D  80 FC 50			 cmp ah, 50H
   1495	0450  74 1E			 je MOVE_DOWN
   1496
   1497	0452  80 FC 4B			 cmp ah, 4BH
   1498	0455  74 1F			 je MOVE_LEFT
   1499
   1500	0457  80 FC 4D			 cmp ah, 4DH
   1501	045A  74 29			 je MOVE_RIGHT
   1502
   1503					 ;cmp ah, 39H
   1504					 ;je FIRE
   1505
   1506	045C  3C 71			 cmp al, 'q'
   1507	045E  75 2B			 jne END_CONTROLS
   1508
   1509	0460  33 C0			 xor ax, ax
   1510	0462  CD 16			 int 16h
   1511	0464  E8 FE33			 call END_GAME
   1512
   1513	0467			     FIRE:
   1514					 ;call SHOOT
   1515	0467  EB 22 90			 jmp END_CONTROLS
   1516
   1517	046A			     MOVE_UP:
   1518	046A  E8 00D8			 call MOVE_UP_PROC
   1519	046D  EB 1C 90			 jmp END_CONTROLS
   1520	0470			     MOVE_DOWN:
   1521	0470  E8 00ED			 call MOVE_DOWN_PROC
   1522	0473  EB 16 90			 jmp END_CONTROLS
   1523	0476			     MOVE_LEFT:
   1524	0476  BB 0616r			 mov bx, OFFSET	ship_pos     ; ponteiro	para posição da nave
   1525	0479  B9 0004			 mov cx, ship_speed	     ; velocidade da nave
   1526	047C  BA 0004			 mov dx, 4		     ; limite esquerdo
   1527	047F  E8 00F9			 call MOVE_LEFT_PROC
   1528	0482  EB 07 90			 jmp END_CONTROLS
   1529
   1530	0485			     MOVE_RIGHT:
   1531	0485  E8 011C			 call MOVE_RIGHT_PROC
   1532	0488  EB 01 90			 jmp END_CONTROLS
   1533
   1534	048B			     END_CONTROLS:
   1535	048B  59			 pop cx
   1536	048C  5B			 pop bx
   1537	048D  58			 pop ax
   1538	048E  5F			 pop di
   1539	048F  5E			 pop si
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 28
MAIN.ASM



   1540	0490  C3			 ret
   1541	0491			     endp
   1542
   1543				     ; AL = axis (0 is X, 1 is Y)
   1544				     ; AH = direction (0 is positive, 1	is negative)
   1545				     ; SI = position pointer
   1546				     ; BX = increment
   1547	0491			     MOVE_SPRITE proc
   1548	0491  56			 push si
   1549	0492  50			 push ax
   1550	0493  53			 push bx
   1551
   1552	0494  8B 0C			 mov cx, [si]
   1553	0496  3C 00			 cmp al, 0
   1554	0498  75 03			 jne MOVE_Y_AXIS
   1555	049A  EB 0A 90			 jmp CHECK_DIRECTION
   1556
   1557	049D			     MOVE_Y_AXIS:
   1558	049D  50			 push ax
   1559	049E  B8 0140			 mov ax, 320
   1560	04A1  F7 E3			 mul bx
   1561	04A3  8B D8			 mov bx, ax
   1562	04A5  58			 pop ax
   1563
   1564	04A6			     CHECK_DIRECTION:
   1565	04A6  80 FC 00			 cmp ah, 0
   1566	04A9  75 05			 jne MOVE_NEGATIVE
   1567	04AB  03 CB			 add cx, bx
   1568	04AD  EB 03 90			 jmp SAVE_POS
   1569
   1570	04B0			     MOVE_NEGATIVE:
   1571	04B0  2B CB			 sub cx, bx
   1572
   1573	04B2			     SAVE_POS:
   1574	04B2  89 0C			 mov [si], cx
   1575
   1576	04B4  5B			 pop bx
   1577	04B5  58			 pop ax
   1578	04B6  5E			 pop si
   1579	04B7  C3			 ret
   1580	04B8			     endp
   1581
   1582	04B8			     RENDER_SHIP proc
   1583	04B8  56			 push si
   1584	04B9  57			 push di
   1585	04BA  53			 push bx
   1586	04BB  50			 push ax
   1587
   1588	04BC  A1 0616r			 mov ax, ship_pos
   1589	04BF  BE 0488r			 mov si, offset	ship_sprite
   1590	04C2  E8 FC17			 call RENDER_SPRITE
   1591
   1592	04C5  58			 pop ax
   1593	04C6  5B			 pop bx
   1594	04C7  5F			 pop di
   1595	04C8  5E			 pop si
   1596	04C9  C3			 ret
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 29
MAIN.ASM



   1597	04CA			     endp
   1598
   1599	04CA			     RESET_SHIP	proc
   1600	04CA  56			 push si
   1601	04CB  53			 push bx
   1602
   1603	04CC  C7 06 0616r 5DC0		 mov ship_pos, ship_pos_ini ; Ship stating position
   1604
   1605	04D2  5B			 pop bx
   1606	04D3  5E			 pop si
   1607	04D4  C3			 ret
   1608	04D5			     endp
   1609
   1610	04D5			     RENDER_ALIEN proc
   1611					 ; AX =	posição na tela
   1612	04D5  57			 push di
   1613	04D6  53			 push bx
   1614
   1615	04D7  BE 02FAr			 mov si, offset	alien_sprite
   1616	04DA  E8 FBFF			 call RENDER_SPRITE
   1617
   1618	04DD  5B			 pop bx
   1619	04DE  5F			 pop di
   1620	04DF  C3			 ret
   1621	04E0			     endp
   1622
   1623	04E0			     RENDER_METEOR proc
   1624					 ; AX =	posição na tela
   1625	04E0  57			 push di
   1626	04E1  53			 push bx
   1627
   1628	04E2  BE 016Er			 mov si, offset	meteor_sprite
   1629	04E5  E8 FBF4			 call RENDER_SPRITE
   1630
   1631	04E8  5B			 pop bx
   1632	04E9  5F			 pop di
   1633	04EA  C3			 ret
   1634	04EB			     endp
   1635
   1636				     ; Reseta o	jogo (score, vidas, fase)
   1637	04EB			     RESET_GAME	proc
   1638	04EB  50			 push ax
   1639
   1640	04EC  C7 06 087Br 0000		 mov score, 0
   1641	04F2  C6 06 0618r 03		 mov lives, LIFES_START
   1642	04F7  C6 06 0003r 01		 mov fase, 1
   1643	04FC  C6 06 0871r 3C		 mov time, SECONDS_START
   1644	0501  C6 06 0872r 00		 mov timeout, 0
   1645	0506  C7 06 67C9r A280		 mov terrain_pos, 320 *	130
   1646
   1647	050C  58			 pop ax
   1648	050D  C3			 ret
   1649	050E			     endp
   1650
   1651				     ; Renderiza o terreno (montanhoso para fase 1)
   1652	050E			     RENDER_TERRAIN proc
   1653	050E  53			 push bx
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 30
MAIN.ASM



   1654	050F  51			 push cx
   1655	0510  52			 push dx
   1656	0511  57			 push di
   1657	0512  06			 push es
   1658	0513  1E			 push ds
   1659	0514  50			 push ax
   1660
   1661	0515  B8 0000s			 mov ax, @data
   1662	0518  8E D8			 mov ds, ax
   1663
   1664	051A  B8 A000			 mov ax, 0A000h
   1665	051D  8E C0			 mov es, ax
   1666
   1667	051F  BE 0888r			 mov si, offset	terrain
   1668	0522  8B 3E 67C9r		 mov di, terrain_pos
   1669	0526  FF 0E 67C9r		 dec terrain_pos
   1670	052A  81 3E 67C9r A27F		 cmp terrain_pos, 320*130 - 1
   1671	0530  75 06			 jnz SKIP_POS_UPDATE
   1672	0532  C7 06 67C9r A3BF		 mov terrain_pos, 320*131 - 1
   1673
   1674	0538			     SKIP_POS_UPDATE:
   1675	0538  B9 5780			 mov cx, 320*70	 ; 70 linhas (130 a 199	- não ultrapassa a tela)
   1676	053B  F3> A4			 rep movsb
   1677
   1678	053D  58			 pop ax
   1679	053E  1F			 pop ds
   1680	053F  07			 pop es
   1681	0540  5F			 pop di
   1682	0541  5A			 pop dx
   1683	0542  59			 pop cx
   1684	0543  5B			 pop bx
   1685	0544  C3			 ret
   1686	0545			     endp
   1687
   1688	0545			     MOVE_UP_PROC proc
   1689	0545  57			 push di
   1690	0546  56			 push si
   1691	0547  50			 push ax
   1692
   1693					 ; Verifica limites
   1694	0548  8B 1E 0616r		 mov bx, [ship_pos]
   1695	054C  81 FB 192F		 cmp bx, 320 * 20 + 47
   1696	0550  72 0A			 jb END_UP
   1697
   1698					 ; Move	a nave
   1699	0552  B0 01			 mov al, 1
   1700	0554  B4 01			 mov ah, 1
   1701	0556  BB 0004			 mov bx, ship_speed
   1702	0559  E8 FF35			 call MOVE_SPRITE
   1703
   1704
   1705	055C			     END_UP:
   1706	055C  58			 pop ax
   1707	055D  5E			 pop si
   1708	055E  5F			 pop di
   1709	055F  C3			 ret
   1710	0560			     endp
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 31
MAIN.ASM



   1711
   1712	0560			     MOVE_DOWN_PROC proc
   1713	0560  57			 push di
   1714	0561  56			 push si
   1715	0562  50			 push ax
   1716
   1717					 ; Verifica limites
   1718	0563  8B 1E 0616r		 mov bx, [ship_pos]
   1719	0567  81 FB 8FC0		 cmp bx, 320 * 115
   1720	056B  73 0A			 jae END_DOWN
   1721
   1722					 ; Move	a nave
   1723	056D  B0 01			 mov al, 1
   1724	056F  32 E4			 xor ah, ah
   1725	0571  BB 0004			 mov bx, ship_speed
   1726	0574  E8 FF1A			 call MOVE_SPRITE
   1727
   1728
   1729	0577			     END_DOWN:
   1730	0577  58			 pop ax
   1731	0578  5E			 pop si
   1732	0579  5F			 pop di
   1733	057A  C3			 ret
   1734	057B			     endp
   1735
   1736	057B			     MOVE_LEFT_PROC proc
   1737					 ; Entradas:
   1738					 ;   BX	= ponteiro para	posição (ex.:	OFFSET ship_pos)
   1739					 ;   CX	= velocidade (ex.: ship_speed)
   1740					 ;   DX	= limite esquerdo (ex.:	4)
   1741	057B  57			 push di
   1742	057C  56			 push si
   1743	057D  50			 push ax
   1744	057E  52			 push dx
   1745	057F  51			 push cx
   1746	0580  55			 push bp
   1747
   1748	0581  8B E9			 mov bp, cx		 ; BP =	velocidade
   1749	0583  8B FA			 mov di, dx		 ; DI =	limite esquerdo
   1750
   1751					 ; Verifica limites: x = pos % 320
   1752	0585  8B 07			 mov ax, [bx]		 ; AX =	posição atual
   1753	0587  33 D2			 xor dx, dx
   1754	0589  B9 0140			 mov cx, 320
   1755	058C  F7 F1			 div cx			 ; DX =	coordenada X
   1756
   1757	058E  3B D7			 cmp dx, di		 ; compara com limite esquerdo
   1758	0590  76 0B			 jbe END_LEFT
   1759
   1760					 ; Move	para a esquerda
   1761	0592  8B F3			 mov si, bx		 ; SI =	ponteiro para posição
   1762	0594  B4 01			 mov ah, 1		 ; direção negativa (esquerda)
   1763	0596  8B DD			 mov bx, bp		 ; BX =	velocidade
   1764	0598  B0 00			 mov al, 0		 ; eixo	X
   1765	059A  E8 FEF4			 call MOVE_SPRITE
   1766
   1767	059D			     END_LEFT:
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 32
MAIN.ASM



   1768	059D  5D			 pop bp
   1769	059E  59			 pop cx
   1770	059F  5A			 pop dx
   1771	05A0  58			 pop ax
   1772	05A1  5E			 pop si
   1773	05A2  5F			 pop di
   1774	05A3  C3			 ret
   1775	05A4			     endp
   1776
   1777	05A4			     MOVE_RIGHT_PROC proc
   1778	05A4  57			 push di
   1779	05A5  56			 push si
   1780	05A6  50			 push ax
   1781	05A7  52			 push dx
   1782	05A8  51			 push cx
   1783
   1784					 ; Verifica limites: x = ship_pos % 320
   1785	05A9  A1 0616r			 mov ax, [ship_pos]
   1786	05AC  33 D2			 xor dx, dx
   1787	05AE  B9 0140			 mov cx, 320
   1788	05B1  F7 F1			 div cx			      ;	DX = x
   1789					 ; se x	>= (320-SPR_W),	não anda para a direita
   1790	05B3  BB 012A			 mov bx, 320 - SPR_W	     ; limite direito considerando largura da nave
   1791	05B6  3B D3			 cmp dx, bx
   1792	05B8  73 0A			 jae END_RIGHT
   1793
   1794					 ; Move	a nave
   1795	05BA  32 E4			 xor ah, ah		      ;	direção positiva (direita)
   1796	05BC  BB 0004			 mov bx, ship_speed
   1797	05BF  B0 00			 mov al, 0		     ; eixo X
   1798	05C1  E8 FECD			 call MOVE_SPRITE
   1799
   1800
   1801	05C4			     END_RIGHT:
   1802	05C4  59			 pop cx
   1803	05C5  5A			 pop dx
   1804	05C6  58			 pop ax
   1805	05C7  5E			 pop si
   1806	05C8  5F			 pop di
   1807	05C9  C3			 ret
   1808	05CA			     endp
   1809
   1810				     end MAIN
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 33
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/15/25"
??FILENAME			  Text	 "MAIN	  "
??TIME				  Text	 "12:07:27"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MAIN
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ALE				  Word	 DGROUP:0000
ALIEN_DIR			  Byte	 DGROUP:0487
ALIEN_L				  Number 9C40
ALIEN_POS			  Word	 DGROUP:0485
ALIEN_R				  Number 9D6A
ALIEN_SPRITE			  Byte	 DGROUP:02FA
ARROW_DOWN			  Near	 _TEXT:0290
ARROW_UP			  Near	 _TEXT:0287
BTN_INICIAR			  Byte	 DGROUP:0004
BTN_INICIAR_LENGTH		  Number 0051
BTN_SAIR			  Byte	 DGROUP:0055
BTN_SAIR_LENGTH			  Number 0051
CHECK_DIRECTION			  Near	 _TEXT:04A6
CHECK_FASE2			  Near	 _TEXT:0405
CHECK_FASE3			  Near	 _TEXT:0412
CHECK_RIGHT			  Near	 _TEXT:01F0
CLEAR_LINE			  Near	 _TEXT:0162
CLEAR_SCREEN			  Near	 _TEXT:02A7
CLEAR_SHIP_LINE			  Near	 _TEXT:0182
CLEAR_SHIP_SPRITE		  Near	 _TEXT:0176
CLEAR_SPRITE			  Near	 _TEXT:0156
CONVERT_UINT16			  Near	 _TEXT:0341
CR				  Number 000D
DECIDE				  Near	 _TEXT:01FC
DRAW_BOUNCE			  Near	 _TEXT:020D
DRAW_RIGHT			  Near	 _TEXT:0243
DRAW_SHIP_LINE			  Near	 _TEXT:00F4
DRAW_SPRITE			  Near	 _TEXT:01C3
END_CONTROLS			  Near	 _TEXT:048B
END_DOWN			  Near	 _TEXT:0577
END_GAME			  Near	 _TEXT:029A
END_HANDLE			  Near	 _TEXT:0299
END_LEFT			  Near	 _TEXT:059D
END_RENDER_LIVES		  Near	 _TEXT:03BB
END_RIGHT			  Near	 _TEXT:05C4
END_SHIP_UPDATE			  Near	 _TEXT:0436
END_TIME			  Near	 _TEXT:0422
END_UP				  Near	 _TEXT:055C
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 34
Symbol Table



EXIT_BTN			  Near	 _TEXT:0096
FASE				  Byte	 DGROUP:0003
FASE1				  Byte	 DGROUP:0619
FASE2				  Byte	 DGROUP:06DF
FASE3				  Byte	 DGROUP:07A5
FASE_STRING_LENGTH		  Number 00C6
FASE_VEC			  Word	 DGROUP:086B
FINISH				  Near	 _TEXT:006A
FIRE				  Near	 _TEXT:0467
GAME_LOOP			  Near	 _TEXT:005C
HANDLE_CONTROLS			  Near	 _TEXT:043E
HANDLE_INPUT			  Near	 _TEXT:027A
INIT_ALIEN_RANDOM		  Near	 _TEXT:0118
LF				  Number 000A
LIFES_START			  Number 0003
LIVES				  Byte	 DGROUP:0618
LOOP_DIV			  Near	 _TEXT:0349
LOOP_MENU			  Near	 _TEXT:0020
MAIN				  Near	 _TEXT:0000
MENU				  Byte	 DGROUP:0002
METEOR_L			  Number 7D00
METEOR_POS			  Word	 DGROUP:0614
METEOR_POS_INI			  Number 7E2C
METEOR_R			  Number 7E2A
METEOR_SPRITE			  Byte	 DGROUP:016E
MOVE_BOUNCE_X_AND_DRAW		  Near	 _TEXT:01D0
MOVE_DOWN			  Near	 _TEXT:0470
MOVE_DOWN_PROC			  Near	 _TEXT:0560
MOVE_LEFT			  Near	 _TEXT:0476
MOVE_LEFT_MENU			  Near	 _TEXT:01B7
MOVE_LEFT_PROC			  Near	 _TEXT:057B
MOVE_MENU			  Near	 _TEXT:024D
MOVE_NEGATIVE			  Near	 _TEXT:04B0
MOVE_RIGHT			  Near	 _TEXT:0485
MOVE_RIGHT_MENU			  Near	 _TEXT:0240
MOVE_RIGHT_PROC			  Near	 _TEXT:05A4
MOVE_SPRITE			  Near	 _TEXT:0491
MOVE_UP				  Near	 _TEXT:046A
MOVE_UP_PROC			  Near	 _TEXT:0545
MOVE_WRAP_LEFT_AND_DRAW		  Near	 _TEXT:0196
MOVE_WRAP_RIGHT_AND_DRAW	  Near	 _TEXT:0217
MOVE_Y_AXIS			  Near	 _TEXT:049D
N_ALE				  Near	 _TEXT:00A5
PRINT_BUTTONS			  Near	 _TEXT:006E
PRINT_STRING			  Near	 _TEXT:00B4
PRINT_TITLE_MENU		  Near	 _TEXT:00C9
RANDOM_UINT16			  Near	 _TEXT:0108
RENDER_ALIEN			  Near	 _TEXT:04D5
RENDER_BUTTONS			  Near	 _TEXT:0296
RENDER_FASE			  Near	 _TEXT:02BF
RENDER_LIVES			  Near	 _TEXT:0394
RENDER_METEOR			  Near	 _TEXT:04E0
RENDER_SCORE			  Near	 _TEXT:035C
RENDER_SHIP			  Near	 _TEXT:04B8
RENDER_SINGLE_LIFE		  Near	 _TEXT:03AA
RENDER_SPRITE			  Near	 _TEXT:00DC
RENDER_STATUS			  Near	 _TEXT:03C1
Turbo Assembler	 Version 4.1	    11/15/25 12:07:29	    Page 35
Symbol Table



RENDER_TERRAIN			  Near	 _TEXT:050E
RENDER_TIME			  Near	 _TEXT:0309
RESET_GAME			  Near	 _TEXT:04EB
RESET_SHIP			  Near	 _TEXT:04CA
RIGHT				  Near	 _TEXT:020A
RIGHT_X				  Number 012A
ROW_ALIEN			  Number 007D
ROW_METEOR			  Number 0064
ROW_SHIP			  Number 004B
SAVE_POS			  Near	 _TEXT:04B2
SAVE_TIME			  Near	 _TEXT:03F0
SAVE_TIMEOUT			  Near	 _TEXT:041E
SCORE				  Word	 DGROUP:087B
SCORE_BUFFER			  Byte	 DGROUP:087D
SCORE_BUFFER_LEN		  Number 0005
SCORE_STR			  Byte	 DGROUP:0882
SCORE_STR_LEN			  Number 0006
SCREEN_H			  Number 00C8
SCREEN_W			  Number 0140
SECONDS_START			  Number 003C
SELECT_OPTION			  Near	 _TEXT:0037
SHIP_POS			  Word	 DGROUP:0616
SHIP_POS_INI			  Number 5DC0
SHIP_SPEED			  Number 0004
SHIP_SPRITE			  Byte	 DGROUP:0488
SKIP_POS_UPDATE			  Near	 _TEXT:0538
SPR_H				  Number 0012
SPR_W				  Number 0016
START_BTN			  Near	 _TEXT:007C
STRING				  Byte	 DGROUP:00A6
STRING_LENGTH			  Number 00C8
SUM_POINTS			  Near	 _TEXT:02D6
TERRAIN				  Byte	 DGROUP:0888
TERRAIN_POS			  Word	 DGROUP:67C9
TIME				  Byte	 DGROUP:0871
TIMEOUT				  Byte	 DGROUP:0872
TIME_BUFFER			  Byte	 DGROUP:0873
TIME_BUFFER_LEN			  Number 0002
TIME_STR			  Byte	 DGROUP:0875
TIME_STR_LEN			  Number 0006
UPDATE_SHIP			  Near	 _TEXT:0425
UPDATE_TIME			  Near	 _TEXT:03CB

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0400 Para	  Stack	  STACK
  _DATA				  16  67CB Word	  Public  DATA
_TEXT				  16  05CA Word	  Public  CODE
