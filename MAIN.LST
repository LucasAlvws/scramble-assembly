Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 1
MAIN.ASM



      1
      2				     ; M0 ? Sanity check: texto	-> 13h -> desenha 1 pixel -> volta pro texto
      3	0000			     .model small
      4	0000			     .stack
      5
      6	0000			     .data
      7	0000  0000			 ale dw	0
      8	0002  00			 menu db 0
      9	0003  01			 fase db 1
     10	0004  0E*(20) DA C4 C4 C4 +	 btn_iniciar db	 14 dup(" "),218,196,196,196,196,196,196,196,196,196,191,13,10
     11	      C4 C4 C4 C4 C4 C4	BF+
     12	      0D 0A
     13	001F  0E*(20) B3 20 20 4A +		      db 14 dup(" "),179,"  JOGAR  ",179,10,13
     14	      4F 47 41 52 20 20	B3+
     15	      0A 0D
     16	003A  0E*(20) C0 C4 C4 C4 +		      db 14 dup(" "),192,196,196,196,196,196,196,196,196,196,217,13,10
     17	      C4 C4 C4 C4 C4 C4	D9+
     18	      0D 0A
     19
     20	      =0051			 btn_iniciar_length equ	$-btn_iniciar
     21
     22	0055  0E*(20) DA C4 C4 C4 +	 btn_sair db  14 dup(" "),218,196,196,196,196,196,196,196,196,196,191,13,10
     23	      C4 C4 C4 C4 C4 C4	BF+
     24	      0D 0A
     25	0070  0E*(20) B3 20 20 53 +		   db 14 dup(" "),179,"	 SAIR	",179,10,13
     26	      41 49 52 20 20 20	B3+
     27	      0A 0D
     28	008B  0E*(20) C0 C4 C4 C4 +		   db 14 dup(" "),192,196,196,196,196,196,196,196,196,196,217,13,10
     29	      C4 C4 C4 C4 C4 C4	D9+
     30	      0D 0A
     31
     32	      =0051			 btn_sair_length equ $-btn_sair
     33	      =000D			 CR EQU	13
     34	      =000A			 LF EQU	10
     35	00A6  02*(20) 20 20 20 20 +	 string	 db 2 dup(" "),"				    ",13,10
     36	      20 20 20 20 20 20	20+
     37	      20 20 20 20 20 20	20+
     38	      20 20 20 20 20 20	20+
     39	      20 20 20 20 20 20	20+
     40	      20 20 20 20 0D 0A
     41	00CE  02*(20) 20 20 5F 5F +		 db 2 dup(" "),"  ___			 _    _	    ",13,10
     42	      5F 20 20 20 20 20	20+
     43	      20 20 20 20 20 20	20+
     44	      20 20 20 20 20 20	20+
     45	      5F 20 20 20 20 5F	20+
     46	      20 20 20 20 0D 0A
     47	00F6  02*(20) 20 2F 20 5F +		 db 2 dup(" ")," / __| __ _ _ __ _ _ __	| |__| |___ ",13,10
     48	      5F 7C 20 5F 5F 20	5F+
     49	      20 5F 20 5F 5F 20	5F+
     50	      20 5F 20 5F 5F 20	7C+
     51	      20 7C 5F 5F 7C 20	7C+
     52	      5F 5F 5F 20 0D 0A
     53	011E  02*(20) 20 5C 5F 5F +		 db 2 dup(" ")," \__ \/	_| '_/ _` | '  \| '_ \ / -_)",13,10
     54	      20 5C 2F 20 5F 7C	20+
     55	      27 5F 2F 20 5F 60	20+
     56	      7C 20 27 20 20 5C	7C+
     57	      20 27 5F 20 5C 20	2F+
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 2
MAIN.ASM



     58	      20 2D 5F 29 0D 0A
     59	0146  02*(20) 20 7C 5F 5F +		 db 2 dup(" ")," |___/\__|_| \__,_|_|_|_|_.__/_\___|",13,10
     60	      5F 2F 5C 5F 5F 7C	5F+
     61	      7C 20 5C 5F 5F 2C	5F+
     62	      7C 5F 7C 5F 7C 5F	7C+
     63	      5F 2E 5F 5F 2F 5F	5C+
     64	      5F 5F 5F 7C 0D 0A
     65
     66
     67	      =00C8			 string_length equ $-string
     68	016E  00 00 00 00 00 00	00+	 meteor_sprite	 db 0,0,0,0,0,0,0,1,1,0,0,0,0,0
     69	      01 01 00 00 00 00	00
     70	017C  00 00 00 00 01 01	04+			 db 0,0,0,0,1,1,4,4,4,1,0,0,0,0
     71	      04 04 01 00 00 00	00
     72	018A  00 00 00 01 04 04	04+			 db 0,0,0,1,4,4,4,4,4,4,1,0,1,1
     73	      04 04 04 01 00 01	01
     74	0198  00 00 01 04 04 04	05+			 db 0,0,1,4,4,4,5,5,4,4,4,1,0,0
     75	      05 04 04 04 01 00	00
     76	01A6  00 01 04 04 05 05	05+			 db 0,1,4,4,5,5,5,5,5,4,4,1,0,0
     77	      05 05 04 04 01 00	00
     78	01B4  00 01 04 04 05 05	05+			 db 0,1,4,4,5,5,5,5,5,5,4,1,5,5
     79	      05 05 05 04 01 05	05
     80	01C2  00 01 04 04 04 05	05+			 db 0,1,4,4,4,5,5,5,5,4,4,1,4,5
     81	      05 05 04 04 01 04	05
     82	01D0  00 00 01 04 04 04	04+			 db 0,0,1,4,4,4,4,5,4,4,1,0,0,0
     83	      05 04 04 01 00 00	00
     84	01DE  00 00 01 04 04 04	04+			 db 0,0,1,4,4,4,4,4,4,4,1,0,1,5
     85	      04 04 04 01 00 01	05
     86	01EC  00 00 00 01 04 04	04+			 db 0,0,0,1,4,4,4,4,4,1,0,0,0,0
     87	      04 04 01 00 00 00	00
     88	01FA  00 00 00 00 01 04	04+			 db 0,0,0,0,1,4,4,4,1,0,4,4,0,0
     89	      04 01 00 04 04 00	00
     90	0208  00 00 00 00 00 01	01+			 db 0,0,0,0,0,1,1,1,0,0,1,0,0,0
     91	      01 00 00 01 00 00	00
     92	0216  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0
     93	      00 00 00 00 00 00	00
     94	0224  00 00 00 00 00 00	00+			 db 0,0,0,0,0,0,0,0,0,0,0,0,0,0
     95	      00 00 00 00 00 00	00
     96	0232  7E2C			 meteor_pos dw 100*320 + 300 ; posi??o inicial (linha 100, x = 300)
     97
     98	0234  00 00 00 0A 0A 0A	02+	 alien_sprite	 db 0,0,0,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0,0,0
     99	      0E 0A 0A 0A 00 00	00
    100	0242  00 0E 02 02 02 02	02+			 db 0,0EH,2,2,2,2,2,2,2,2,2,2,0EH,0
    101	      02 02 02 02 02 0E	00
    102	0250  00 0E 02 02 02 02	02+			 db 0,0EH,2,2,2,2,2,2,2,2,2,2,0EH,0
    103	      02 02 02 02 02 0E	00
    104	025E  0E 02 02 02 02 02	02+			 db 0EH,2,2,2,2,2,2,2,2,2,2,2,2,0EH
    105	      02 02 02 02 02 02	0E
    106	026C  0E 0E 0A 05 05 0A	02+			 db 0EH,0EH,0AH,5,5,0AH,2,0EH,0AH,5,5,0AH,0EH,0EH
    107	      0E 0A 05 05 0A 0E	0E
    108	027A  0E 0E 0A 05 05 0A	02+			 db 0EH,0EH,0AH,5,5,0AH,2,0EH,0AH,5,5,0AH,0EH,0EH
    109	      0E 0A 05 05 0A 0E	0E
    110	0288  0E 0E 0E 0A 0A 0A	02+			 db 0EH,0EH,0EH,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0EH,0EH,0EH
    111	      0E 0A 0A 0A 0E 0E	0E
    112	0296  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0
    113	      02 05 05 02 0A 0E	00
    114	02A4  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 3
MAIN.ASM



    115	      02 05 05 02 0A 0E	00
    116	02B2  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,0AH,5,5,2,0AH,0EH,0
    117	      0A 05 05 02 0A 0E	00
    118	02C0  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,0AH,5,5,2,0AH,0EH,0
    119	      0A 05 05 02 0A 0E	00
    120	02CE  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0
    121	      02 05 05 02 0A 0E	00
    122	02DC  00 00 0E 0A 02 05	05+			 db 0,0,0EH,0AH,2,5,5,2,5,5,2,0AH,0EH,0
    123	      02 05 05 02 0A 0E	00
    124	02EA  00 00 00 0A 0A 0A	02+			 db 0,0,0,0AH,0AH,0AH,2,0EH,0AH,0AH,0AH,0,0,0
    125	      0E 0A 0A 0A 00 00	00
    126
    127	02F8  9D6C			 alien_pos dw 125*320 +	300 ; posição	inicial	(linha 125, x =	300)
    128	02FA  00			 alien_dir db 0	 ; direção do	alien (0=esquerda, 1=direita)
    129
    130					 ; Sprite da nave principal (29x13 pixels) - baseado no	exemplo
    131	02FB  00 00 00 00 00 00	00+	 ship_sprite db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    132	      00 00 00 00 00 00	00+
    133	      00 00 00 00 00 00	00+
    134	      00
    135	0311  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    136	      00 00 00 00 00 00	00+
    137	      00 00 00 00 00 00	00+
    138	      00
    139	0327  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    140	      00 00 00 00 00 00	00+
    141	      00 00 00 00 00 00	00+
    142	      00
    143	033D  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    144	      00 00 00 00 00 00	00+
    145	      00 00 00 00 00 00	00+
    146	      00
    147	0353  00 00 00 00 0F 0F	0F+		     db	0,0,0,0,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    148	      00 00 00 00 00 00	00+
    149	      00 00 00 00 00 00	00+
    150	      00
    151	0369  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,0AH,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    152	      0F 0A 0A 0A 00 00	00+
    153	      00 00 00 00 00 00	00+
    154	      00
    155	037F  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    156	      0F 0F 0A 0A 00 00	00+
    157	      00 00 00 00 00 00	00+
    158	      00
    159	0395  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0
    160	      0F 0F 0F 0F 0F 00	00+
    161	      00 00 00 00 00 00	00+
    162	      00
    163	03AB  00 00 00 00 00 01	09+		     db	0,0,0,0,0,1,09H,09H,09H,09H,09H,09H,15,15,15,15,15,15,0,0,0,0
    164	      09 09 09 09 09 0F	0F+
    165	      0F 0F 0F 0F 00 00	00+
    166	      00
    167	03C1  00 00 00 00 00 01	09+		     db	0,0,0,0,0,1,09H,09H,09H,09H,09H,09H,15,15,15,15,15,15,0,0,0,0
    168	      09 09 09 09 09 0F	0F+
    169	      0F 0F 0F 0F 00 00	00+
    170	      00
    171	03D7  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 4
MAIN.ASM



    172	      0F 0F 0F 0F 0F 00	00+
    173	      00 00 00 00 00 00	00+
    174	      00
    175	03ED  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,15,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    176	      0F 0F 0A 0A 00 00	00+
    177	      00 00 00 00 00 00	00+
    178	      00
    179	0403  00 00 00 00 00 01	0F+		     db	0,0,0,0,0,1,15,15,0AH,0AH,0AH,0,0,0,0,0,0,0,0,0,0,0
    180	      0F 0A 0A 0A 00 00	00+
    181	      00 00 00 00 00 00	00+
    182	      00
    183	0419  00 00 00 00 0F 0F	0F+		     db	0,0,0,0,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    184	      00 00 00 00 00 00	00+
    185	      00 00 00 00 00 00	00+
    186	      00
    187	042F  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    188	      00 00 00 00 00 00	00+
    189	      00 00 00 00 00 00	00+
    190	      00
    191	0445  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    192	      00 00 00 00 00 00	00+
    193	      00 00 00 00 00 00	00+
    194	      00
    195	045B  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    196	      00 00 00 00 00 00	00+
    197	      00 00 00 00 00 00	00+
    198	      00
    199	0471  00 00 00 00 00 00	00+		     db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    200	      00 00 00 00 00 00	00+
    201	      00 00 00 00 00 00	00+
    202	      00
    203	      =0064			 ROW_METEOR  EQU 100
    204	      =007D			 ROW_ALIEN   EQU 125
    205	      =004B			 ROW_SHIP    EQU 75
    206	      =5DC0			 ship_pos_ini EQU ROW_SHIP*320
    207	0487  5DC0			 ship_pos dw ship_pos_ini ; posição inicial (linha 95, coluna	41)
    208	      =0004			 ship_speed EQU	4
    209
    210	      =0003			 LIFES_START EQU 3
    211	0489  03			 lives db LIFES_START  ; número de vidas
    212
    213	      =0140			 SCREEN_W    EQU 320
    214	      =00C8			 SCREEN_H    EQU 200
    215
    216	      =0016			 SPR_W	     EQU 22  ; para meteoro e alien
    217	      =0012			 SPR_H	     EQU 18
    218	      =012A			 RIGHT_X     EQU (SCREEN_W - SPR_W)   ;	?ltimo X v?lido	p/ canto esquerdo do sprite
    219
    220
    221					 ; Limites horizontais por objeto (linha fixa)
    222	      =7D00			 METEOR_L    EQU (ROW_METEOR*SCREEN_W)
    223	      =7E2A			 METEOR_R    EQU (ROW_METEOR*SCREEN_W +	RIGHT_X)
    224
    225	      =9C40			 ALIEN_L     EQU (ROW_ALIEN*SCREEN_W)
    226	      =9D6A			 ALIEN_R     EQU (ROW_ALIEN*SCREEN_W + RIGHT_X)
    227
    228	048A  07*(20) 20 5F 5F 5F +	 fase1	 db 7 dup(" ")," ___		      _	",13,10
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 5
MAIN.ASM



    229	      20 20 20 20 20 20	20+
    230	      20 20 20 20 20 20	20+
    231	      20 20 20 20 5F 20	0D+
    232	      0A
    233	04AB  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___     / |",13,10
    234	      7C 5F 20 5F 20 5F	5F+
    235	      5F 20 5F 5F 5F 20	20+
    236	      20 20 20 2F 20 7C	0D+
    237	      0A
    238	04CC  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)    | |",13,10
    239	      20 5F 60 20 28 5F	2D+
    240	      3C 2F 20 2D 5F 29	20+
    241	      20 20 20 7C 20 7C	0D+
    242	      0A
    243	04ED  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|    |_|",13,10
    244	      5F 5F 2C 5F 2F 5F	5F+
    245	      2F 5C 5F 5F 5F 7C	20+
    246	      20 20 20 7C 5F 7C	0D+
    247	      0A
    248	050E  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    249	      20 20 20 20 20 20	20+
    250	      20 20 20 20 20 20	20+
    251	      20 20 20 20 20 20	0D+
    252	      0A
    253	052F  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    254	      20 20 20 20 20 20	20+
    255	      20 20 20 20 20 20	20+
    256	      20 20 20 20 20 20	0D+
    257	      0A
    258
    259	0550  07*(20) 20 5F 5F 5F +	 fase2	 db 7 dup(" ")," ___		    ___	",13,10
    260	      20 20 20 20 20 20	20+
    261	      20 20 20 20 20 20	20+
    262	      20 20 5F 5F 5F 20	0D+
    263	      0A
    264	0571  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___   |_  )",13,10
    265	      7C 5F 20 5F 20 5F	5F+
    266	      5F 20 5F 5F 5F 20	20+
    267	      20 7C 5F 20 20 29	0D+
    268	      0A
    269	0592  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)   / /	",13,10
    270	      20 5F 60 20 28 5F	2D+
    271	      3C 2F 20 2D 5F 29	20+
    272	      20 20 2F 20 2F 20	0D+
    273	      0A
    274	05B3  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|  /___|",13,10
    275	      5F 5F 2C 5F 2F 5F	5F+
    276	      2F 5C 5F 5F 5F 7C	20+
    277	      20 2F 5F 5F 5F 7C	0D+
    278	      0A
    279	05D4  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    280	      20 20 20 20 20 20	20+
    281	      20 20 20 20 20 20	20+
    282	      20 20 20 20 20 20	0D+
    283	      0A
    284	05F5  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    285	      20 20 20 20 20 20	20+
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 6
MAIN.ASM



    286	      20 20 20 20 20 20	20+
    287	      20 20 20 20 20 20	0D+
    288	      0A
    289
    290	0616  07*(20) 20 5F 5F 5F +	 fase3	 db 7 dup(" ")," ___		    ____",13,10
    291	      20 20 20 20 20 20	20+
    292	      20 20 20 20 20 20	20+
    293	      20 20 5F 5F 5F 5F	0D+
    294	      0A
    295	0637  07*(20) 7C 20 5F 5F +		 db 7 dup(" "),"| __|_ _ ___ ___   |__ /",13,10
    296	      7C 5F 20 5F 20 5F	5F+
    297	      5F 20 5F 5F 5F 20	20+
    298	      20 7C 5F 5F 20 2F	0D+
    299	      0A
    300	0658  07*(20) 7C 20 5F 2F +		 db 7 dup(" "),"| _/ _`	(_-</ -_)   |_ \",13,10
    301	      20 5F 60 20 28 5F	2D+
    302	      3C 2F 20 2D 5F 29	20+
    303	      20 20 7C 5F 20 5C	0D+
    304	      0A
    305	0679  07*(20) 7C 5F 7C 5C +		 db 7 dup(" "),"|_|\__,_/__/\___|  |___/",13,10
    306	      5F 5F 2C 5F 2F 5F	5F+
    307	      2F 5C 5F 5F 5F 7C	20+
    308	      20 7C 5F 5F 5F 2F	0D+
    309	      0A
    310	069A  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    311	      20 20 20 20 20 20	20+
    312	      20 20 20 20 20 20	20+
    313	      20 20 20 20 20 20	0D+
    314	      0A
    315	06BB  07*(20) 20 20 20 20 +		 db 7 dup(" "),"			",13,10
    316	      20 20 20 20 20 20	20+
    317	      20 20 20 20 20 20	20+
    318	      20 20 20 20 20 20	0D+
    319	      0A
    320
    321	      =00C6			 fase_string_length equ	$-fase3
    322
    323	06DC  048Ar 0550r 0616r		 fase_vec dw offset fase1, offset fase2, offset	fase3
    324
    325	      =003C			 SECONDS_START	EQU 60
    326
    327	06E2  3C			 time db SECONDS_START
    328	06E3  00			 timeout db 0
    329	06E4  30 30			 time_buffer db	'00'
    330	      =0002			 time_buffer_len equ $-time_buffer
    331
    332
    333	06E6  54 45 4D 50 4F 3A		 time_str db "TEMPO:"
    334	      =0006			 time_str_len equ $-time_str
    335
    336	06EC  0000			 score dw 0
    337	06EE  30 30 30 30 30		 score_buffer db '00000'
    338	      =0005			 score_buffer_len equ $-score_buffer
    339
    340	06F3  53 43 4F 52 45 3A		 score_str db "SCORE:"
    341	      =0006			 score_str_len equ $-score_str
    342
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 7
MAIN.ASM



    343					 ; Terreno da fase 1
    344	06F9  0140*(00)			 terrain db 320	dup(0)
    345	0839  0140*(00)			     db	320 dup(0)
    346	0979  A8*(00) 03*(06) 95* +	     db	168 dup(0),3 dup (6),149 dup(0)
    347	      (00)
    348	0AB9  A6*(00) 06*(06) 94* +	     db	166 dup(0),6 dup (6),148 dup(0)
    349	      (00)
    350	0BF9  22*(00) 04*(06) 07* +	     db	34 dup(0),4 dup	(6),7 dup(0),6 dup (6),63 dup(0),2 dup (6),25 dup(0),6 dup (6),18   +
    351	      (00) 06*(06) 3F*(00)+  dup(0),8 dup (6),87 dup(0),9 dup (6),51 dup(0)
    352	      02*(06) 19*(00) 06* +
    353	      (06) 12*(00) 08*(06)+
    354	      57*(00) 09*(06) 33* +
    355	      (00)
    356	0D39  21*(00) 06*(06) 05* +	     db	33 dup(0),6 dup	(6),5 dup(0),9 dup (6),37 dup(0),9 dup (6),12 dup(0),7 dup (6),20   +
    357	      (00) 09*(06) 25*(00)+  dup(0),10 dup (6),17 dup(0),9 dup (6),15 dup(0),5 dup (6),40 dup(0),5 dup (6),19 dup(0),11	dup +
    358	      09*(06) 0C*(00) 07* +  (6),15 dup(0),4 dup (6),32	dup(0)
    359	      (06) 14*(00) 0A*(06)+
    360	      11*(00) 09*(06) 0F* +
    361	      (00) 05*(06) 28*(00)+
    362	      05*(06) 13*(00) 0B* +
    363	      (06) 0F*(00) 04*(06)+
    364	      20*(00)
    365	0E79  0C*(00) 04*(06) 10* +	     db	12 dup(0),4 dup	(6),16 dup(0),7	dup (6),4 dup(0),11 dup	(6),17 dup(0),3	dup (6),15  +
    366	      (00) 07*(06) 04*(00)+  dup(0),11 dup (6),10 dup(0),10 dup	(6),15 dup(0),14 dup (6),15 dup(0),11 dup (6),13 dup(0),7   +
    367	      0B*(06) 11*(00) 03* +  dup (6),8 dup(0),6	dup (6),23 dup(0),9 dup	(6),15 dup(0),15 dup (6),12 dup(0),7 dup (6),30	dup +
    368	      (06) 0F*(00) 0B*(06)+  (0)
    369	      0A*(00) 0A*(06) 0F* +
    370	      (00) 0E*(06) 0F*(00)+
    371	      0B*(06) 0D*(00) 07* +
    372	      (06) 08*(00) 06*(06)+
    373	      17*(00) 09*(06) 0F* +
    374	      (00) 0F*(06) 0C*(00)+
    375	      07*(06) 1E*(00)
    376	0FB9  0B*(00) 07*(06) 0E* +	     db	11 dup(0),7 dup	(6),14 dup(0),23 dup (6),16 dup(0),3 dup (6),15	dup(0),11 dup (6),9 +
    377	      (00) 17*(06) 10*(00)+  dup(0),11 dup (6),13 dup(0),17 dup	(6),14 dup(0),12 dup (6),11 dup(0),9 dup (6),5 dup(0),9	dup +
    378	      03*(06) 0F*(00) 0B* +  (6),20 dup(0),12 dup (6),13 dup(0),17 dup (6),10 dup(0),9 dup (6),29 dup(0)
    379	      (06) 09*(00) 0B*(06)+
    380	      0D*(00) 11*(06) 0E* +
    381	      (00) 0C*(06) 0B*(00)+
    382	      09*(06) 05*(00) 09* +
    383	      (06) 14*(00) 0C*(06)+
    384	      0D*(00) 11*(06) 0A* +
    385	      (00) 09*(06) 1D*(00)
    386	10F9  01*(06) 09*(00) 0A* +	     db	1 dup (6),9 dup(0),10 dup (6),10 dup(0),26 dup (6),15 dup(0),5 dup (6),12 dup(0),34 +
    387	      (06) 0A*(00) 1A*(06)+  dup (6),8 dup(0),21 dup (6),12 dup(0),14 dup (6),9	dup(0),11 dup (6),2 dup(0),13 dup (6),16 dup+
    388	      0F*(00) 05*(06) 0C* +  (0),17 dup	(6),8 dup(0),20	dup (6),8 dup(0),11 dup	(6),8 dup(0),3 dup (6),8 dup(0),6 dup (6),2 +
    389	      (00) 22*(06) 08*(00)+  dup(0),1 dup (6)
    390	      15*(06) 0C*(00) 0E* +
    391	      (06) 09*(00) 0B*(06)+
    392	      02*(00) 0D*(06) 10* +
    393	      (00) 11*(06) 08*(00)+
    394	      14*(06) 08*(00) 0B* +
    395	      (06) 08*(00) 03*(06)+
    396	      08*(00) 06*(06) 02* +
    397	      (00) 01*(06)
    398	1239  02*(06) 07*(00) 0C* +	     db	2 dup (6),7 dup(0),12 dup (6),8	dup(0),31 dup (6),10 dup(0),6 dup (6),10 dup(0),65  +
    399	      (06) 08*(00) 1F*(06)+  dup (6),11	dup(0),17 dup (6),7 dup(0),28 dup (6),12 dup(0),49 dup (6),5 dup(0),13 dup (6),5 dup+
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 8
MAIN.ASM



    400	      0A*(00) 06*(06) 0A* +  (0),7 dup (6),4 dup(0),11 dup (6)
    401	      (00) 41*(06) 0B*(00)+
    402	      11*(06) 07*(00) 1C* +
    403	      (06) 0C*(00) 31*(06)+
    404	      05*(00) 0D*(06) 05* +
    405	      (00) 07*(06) 04*(00)+
    406	      0B*(06)
    407	1379  03*(06) 05*(00) 0E* +	     db	3 dup (6),5 dup(0),14 dup (6),4	dup(0),36 dup (6),6 dup(0),10 dup (6),6	dup(0),68   +
    408	      (06) 04*(00) 24*(06)+  dup (6),9 dup(0),19 dup (6),5 dup(0),109 dup (6),3	dup(0),8 dup (6),3 dup(0),12 dup (6)
    409	      06*(00) 0A*(06) 06* +
    410	      (00) 44*(06) 09*(00)+
    411	      13*(06) 05*(00) 6D* +
    412	      (06) 03*(00) 08*(06)+
    413	      03*(00) 0C*(06)
    414	14B9  3F*(06) 04*(00) 0B* +	     db	63 dup (6),4 dup(0),11 dup (6),4 dup(0),71 dup (6),7 dup(0),23 dup (6),1 dup(0),122 +
    415	      (06) 04*(00) 47*(06)+  dup (6),1 dup(0),13 dup (6)
    416	      07*(00) 17*(06) 01* +
    417	      (00) 7A*(06) 01*(00)+
    418	      0D*(06)
    419	15F9  0140*(06)			     db	320 dup	(6)
    420	1739  0140*(06)			     db	320 dup	(6)
    421	1879  0140*(06)			     db	320 dup	(6)
    422	19B9  19*(06) 03*(05) 16* +	     db	25 dup(6),3 dup(05H),22	dup(6),2 dup(0DH),28 dup(6),4 dup(05H),24 dup(6),3 dup(0DH),+
    423	      (06) 02*(0D) 1C*(06)+  26	dup(6),2 dup(05H),30 dup(6),4 dup(0DH),23 dup(6),3 dup(05H),27 dup(6),2	dup(0DH),25 dup(6),4+
    424	      04*(05) 18*(06) 03* +  dup(05H),20 dup(6)
    425	      (0D) 1A*(06) 02*(05)+
    426	      1E*(06) 04*(0D) 17* +
    427	      (06) 03*(05) 1B*(06)+
    428	      02*(0D) 19*(06) 04* +
    429	      (05) 14*(06)
    430	1ACE  12*(06) 06*(0D) 10* +	     db	18 dup(6),6 dup(0DH),16	dup(6),8 dup(05H),20 dup(6),7 dup(0DH),18 dup(6),9 dup(05H),+
    431	      (06) 08*(05) 14*(06)+  22	dup(6),8 dup(0DH),19 dup(6),7 dup(05H),21 dup(6),10 dup(0DH),17	dup(6),9 dup(05H),20 dup(6),+
    432	      07*(0D) 12*(06) 09* +  8 dup(0DH),18 dup(6)
    433	      (05) 16*(06) 08*(0D)+
    434	      13*(06) 07*(05) 15* +
    435	      (06) 0A*(0D) 11*(06)+
    436	      09*(05) 14*(06) 08* +
    437	      (0D) 12*(06)
    438	1BD3  0C*(06) 0C*(05) 0E* +	     db	12 dup(6),12 dup(05H),14 dup(6),14 dup(0DH),16 dup(6),11 dup(05H),15 dup(6),13 dup  +
    439	      (06) 0E*(0D) 10*(06)+  (0DH),18 dup(6),12	dup(05H),16 dup(6),14 dup(0DH),17 dup(6),15 dup(05H),14	dup(6),13 dup(0DH), +
    440	      0B*(05) 0F*(06) 0D* +  15	dup(6),12 dup(05H),13 dup(6)
    441	      (0D) 12*(06) 0C*(05)+
    442	      10*(06) 0E*(0D) 11* +
    443	      (06) 0F*(05) 0E*(06)+
    444	      0D*(0D) 0F*(06) 0C* +
    445	      (05) 0D*(06)
    446	1CDD  08*(06) 12*(0D) 0A* +	     db	8 dup(6),18 dup(0DH),10	dup(6),20 dup(05H),12 dup(6),17	dup(0DH),11 dup(6),19 dup   +
    447	      (06) 14*(05) 0C*(06)+  (05H),14 dup(6),18	dup(0DH),13 dup(6),20 dup(05H),12 dup(6),19 dup(0DH),11	dup(6),18 dup(05H), +
    448	      11*(0D) 0B*(06) 13* +  10	dup(6),17 dup(0DH),9 dup(6)
    449	      (05) 0E*(06) 12*(0D)+
    450	      0D*(06) 14*(05) 0C* +
    451	      (06) 13*(0D) 0B*(06)+
    452	      12*(05) 0A*(06) 11* +
    453	      (0D) 09*(06)
    454	1DF1  04*(06) 19*(05) 06* +	     db	4 dup(6),25 dup(05H),6 dup(6),28 dup(0DH),8 dup(6),24 dup(05H),7 dup(6),26 dup(0DH),+
    455	      (06) 1C*(0D) 08*(06)+  9 dup(6),25 dup(05H),8 dup(6),27 dup(0DH),7 dup(6),26 dup(05H),6 dup(6),24	dup(0DH),5 dup(6)
    456	      18*(05) 07*(06) 1A* +
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 9
MAIN.ASM



    457	      (0D) 09*(06) 19*(05)+
    458	      08*(06) 1B*(0D) 07* +
    459	      (06) 1A*(05) 06*(06)+
    460	      18*(0D) 05*(06)
    461	1EFA  0140*(05)			     db	320 dup	(05H)
    462	203A  0140*(0D)			     db	320 dup	(0DH)
    463	217A  0140*(05)			     db	320 dup	(05H)
    464	22BA  0140*(0D)			     db	320 dup	(0DH)
    465	23FA  0140*(05)			     db	320 dup	(05H)
    466	253A  0140*(0D)			     db	320 dup	(0DH)
    467	267A  0140*(05)			     db	320 dup	(05H)
    468	27BA  0140*(0D)			     db	320 dup	(0DH)
    469	28FA  0140*(05)			     db	320 dup	(05H)
    470	2A3A  0140*(0D)			     db	320 dup	(0DH)
    471	2B7A  0140*(05)			     db	320 dup	(05H)
    472	2CBA  0140*(0D)			     db	320 dup	(0DH)
    473	2DFA  0140*(05)			     db	320 dup	(05H)
    474	2F3A  0140*(0D)			     db	320 dup	(0DH)
    475	307A  0140*(05)			     db	320 dup	(05H)
    476	31BA  0140*(0D)			     db	320 dup	(0DH)
    477	32FA  0140*(05)			     db	320 dup	(05H)
    478	343A  0140*(0D)			     db	320 dup	(0DH)
    479	357A  0140*(05)			     db	320 dup	(05H)
    480	36BA  0140*(0D)			     db	320 dup	(0DH)
    481	37FA  0140*(05)			     db	320 dup	(05H)
    482	393A  0140*(0D)			     db	320 dup	(0DH)
    483	3A7A  0140*(05)			     db	320 dup	(05H)
    484	3BBA  0140*(0D)			     db	320 dup	(0DH)
    485	3CFA  0140*(05)			     db	320 dup	(05H)
    486	3E3A  0140*(0D)			     db	320 dup	(0DH)
    487	3F7A  0140*(05)			     db	320 dup	(05H)
    488	40BA  0140*(0D)			     db	320 dup	(0DH)
    489	41FA  0140*(05)			     db	320 dup	(05H)
    490	433A  0140*(0D)			     db	320 dup	(0DH)
    491	447A  0140*(05)			     db	320 dup	(05H)
    492	45BA  0140*(0D)			     db	320 dup	(0DH)
    493	46FA  0140*(05)			     db	320 dup	(05H)
    494	483A  0140*(0D)			     db	320 dup	(0DH)
    495	497A  0140*(05)			     db	320 dup	(05H)
    496	4ABA  0140*(0D)			     db	320 dup	(0DH)
    497	4BFA  0140*(05)			     db	320 dup	(05H)
    498	4D3A  0140*(0D)			     db	320 dup	(0DH)
    499	4E7A  0140*(05)			     db	320 dup	(05H)
    500	4FBA  0140*(0D)			     db	320 dup	(0DH)
    501	50FA  0140*(05)			     db	320 dup	(05H)
    502	523A  0140*(0D)			     db	320 dup	(0DH)
    503	537A  0140*(05)			     db	320 dup	(05H)
    504	54BA  0140*(0D)			     db	320 dup	(0DH)
    505	55FA  0140*(05)			     db	320 dup	(05H)
    506	573A  0140*(0D)			     db	320 dup	(0DH)
    507	587A  0140*(05)			     db	320 dup	(05H)
    508	59BA  0140*(0D)			     db	320 dup	(0DH)
    509	5AFA  0140*(05)			     db	320 dup	(05H)
    510	5C3A  0140*(0D)			     db	320 dup	(0DH)
    511	5D7A  0140*(05)			     db	320 dup	(05H)
    512	5EBA  0140*(0D)			     db	320 dup	(0DH)
    513	5FFA  0140*(05)			     db	320 dup	(05H)
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 10
MAIN.ASM



    514	613A  0140*(0D)			     db	320 dup	(0DH)
    515	627A  0140*(05)			     db	320 dup	(05H)
    516	63BA  0140*(0D)			     db	320 dup	(0DH)
    517	64FA  0140*(05)			     db	320 dup	(05H)
    518
    519	663A  E100			 terrain_pos dw	320 * 180  ; Linha 130 (1/3 superior da	tela)
    520
    521
    522	663C			     .code
    523	0000			     MAIN:
    524	0000  B8 0000s			 mov AX, @data
    525	0003  8E D8			 mov DS, AX
    526	0005  B8 A000			 mov AX, 0A000H
    527	0008  8E C0			 mov ES, AX
    528	000A  33 FF			 xor DI, DI
    529
    530	000C  E8 0096			 call N_ALE
    531	000F  E8 0132			 call INIT_ALIEN_RANDOM
    532
    533					 ; Define o modo de video
    534	0012  32 E4			 xor ah, ah
    535	0014  32 FF			 xor bh, bh
    536	0016  B0 13			 mov al, 13h
    537	0018  CD 10			 int 10h
    538
    539					 ; Exibe titulo	e botoes do menu
    540	001A  E8 00AC			 call PRINT_TITLE_MENU
    541	001D  E8 004E			 call PRINT_BUTTONS
    542
    543	0020			     LOOP_MENU:
    544	0020  E8 0249			 call MOVE_MENU
    545					 ; Recebe entrada do usu??rio
    546	0023  B4 01			 mov ah, 1H
    547	0025  CD 16			 int 16H
    548	0027  74 F7			 jz LOOP_MENU
    549
    550					 ; Chama a fun????o de navega????o
    551	0029  E8 026D			 call HANDLE_INPUT
    552
    553					 ; Condi????o para iniciar o jogo
    554	002C  80 FC 1C			 cmp ah, 1CH
    555	002F  74 06			 je SELECT_OPTION
    556
    557					 ; Retorno ao loop do menu
    558	0031  32 E4			 xor ah, ah
    559	0033  CD 16			 int 16H
    560	0035  EB E9			 jmp LOOP_MENU
    561	0037			     SELECT_OPTION:
    562	0037  32 E4			 xor ah, ah
    563	0039  CD 16			 int 16H
    564
    565	003B  8A 26 0002r		 mov ah, menu
    566	003F  80 FC 01			 cmp ah, 1
    567	0042  74 26			 je FINISH
    568
    569	0044  E8 04A4			 call RESET_GAME  ; Reseta score, vidas	e fase
    570
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 11
MAIN.ASM



    571	0047  E8 0294			 call RENDER_FASE  ; Mostra a tela da fase
    572
    573					 ; Aguarda um pouco para ver a fase
    574	004A  33 C9			 xor cx, cx
    575	004C  BA FFFF			 mov dx, 0FFFFH
    576	004F  B4 86			 mov ah, 86H
    577	0051  CD 15			 int 15h
    578
    579					 ; Limpa completamente a tela antes de iniciar o jogo
    580	0053  E8 0270			 call CLEAR_SCREEN
    581	0056  E8 026D			 call CLEAR_SCREEN  ; Limpa duas vezes para garantir
    582
    583	0059  E8 0484			 call RESET_SHIP
    584
    585	005C				 GAME_LOOP:
    586	005C  E8 04AF			 call RENDER_TERRAIN  ;	Renderiza o terreno primeiro
    587	005F  E8 037E			 call RENDER_STATUS   ;	Renderiza score, vidas e tempo
    588	0062  E8 0385			 call UPDATE_TIME
    589	0065  E8 03DC			 call UPDATE_SHIP
    590
    591	0068  EB F2			 jmp GAME_LOOP
    592
    593	006A			     FINISH:
    594	006A  E8 024C			 CALL END_GAME
    595
    596	006D  C3			 ret
    597
    598				     ; Procedimento para exibir	os botoes INICIAR e SAIR
    599				     ; se menu == 0 o bot?o jogar fica vermelho
    600				     ; se menu == 1 o botao sair fica vermelho
    601	006E			     PRINT_BUTTONS proc
    602	006E  50			 push ax
    603	006F  B3 0F			 mov bl, 0FH
    604	0071  8A 26 0002r		 mov ah, menu
    605	0075  80 FC 00			 cmp ah, 0
    606	0078  75 02			 jne START_BTN
    607	007A  B3 0C			 mov bl, 0CH
    608
    609	007C			     START_BTN:
    610					 ; Exibe o bot??o INICIAR
    611	007C  BD 0004r			 mov bp, offset	btn_iniciar
    612	007F  B9 0051			 mov cx, btn_iniciar_length ; tamanho
    613	0082  32 D2			 xor dl, dl ; coluna = 0
    614	0084  B6 12			 mov dh, 18 ; linha = 18
    615	0086  E8 002B			 call PRINT_STRING
    616
    617	0089  B3 0F			 mov bl, 0FH
    618	008B  8A 26 0002r		 mov ah, menu
    619	008F  80 FC 01			 cmp ah, 1
    620	0092  75 02			 jne EXIT_BTN
    621	0094  B3 0C			 mov bl, 0CH
    622
    623	0096			     EXIT_BTN:
    624	0096  BD 0055r			 mov bp, offset	btn_sair
    625	0099  B9 0051			 mov cx, btn_sair_length ; tamanho
    626	009C  32 D2			 xor dl, dl ; coluna = 0
    627	009E  B6 15			 mov dh, 21 ; linha = 21
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 12
MAIN.ASM



    628	00A0  E8 0011			 call PRINT_STRING
    629
    630	00A3  58			 pop ax
    631	00A4  C3			 ret
    632	00A5			     PRINT_BUTTONS endp
    633
    634				     ; gera um valor aleatorio do clock	com 1AH
    635	00A5			     N_ALE proc
    636	00A5  50			 push ax
    637	00A6  51			 push cx
    638	00A7  52			 push dx
    639
    640	00A8  33 C0			 xor ax, ax
    641	00AA  CD 1A			 int 1AH
    642	00AC  89 16 0000r		 mov ale, dx
    643
    644	00B0  5A			 pop dx
    645	00B1  59			 pop cx
    646	00B2  58			 pop ax
    647	00B3  C3			 ret
    648	00B4			     N_ALE endp
    649
    650				     ;	Desenha	CX caracteres a	partir de ES:BP	na posi??o (linha DH, coluna DL).
    651				     ;	Usa a cor/atributo em BL (p.ex.: 0Fh = branco, 0Ch = vermelho-claro).
    652				     ;	Atualiza o cursor ap?s imprimir	(modo AL=1).
    653				     ;	ES deve	apontar	para o segmento	onde est? a string (comumente ES=DS).
    654				     ;	BP deve	conter o offset	da string dentro de ES.
    655	00B4			     PRINT_STRING PROC
    656	00B4  50			 push AX
    657	00B5  53			 push BX
    658	00B6  1E			 push DS
    659	00B7  06			 push ES
    660	00B8  56			 push SI
    661	00B9  55			 push BP
    662
    663	00BA  B4 13			 mov ah, 13h
    664	00BC  B0 01			 mov al, 1
    665
    666	00BE  32 FF			 xor bh, bh
    667	00C0  CD 10			 int 10h  ; escreve string
    668
    669	00C2  5D			 pop BP
    670	00C3  5E			 pop SI
    671	00C4  07			 pop ES
    672	00C5  1F			 pop DS
    673	00C6  5B			 pop BX
    674	00C7  58			 pop AX
    675	00C8  C3			 ret
    676	00C9			     PRINT_STRING ENDP
    677
    678	00C9			     PRINT_TITLE_MENU proc
    679	00C9  8C D8			 mov ax, ds
    680	00CB  8E C0			 mov es, ax
    681
    682					 ; ajusta resgitradores	pro PRINT_STRING
    683	00CD  BD 00A6r			 mov bp, offset	string
    684	00D0  B9 00C8			 mov cx, string_length ; tamanho
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 13
MAIN.ASM



    685	00D3  B3 02			 mov bl, 02H ; Cor verde (se bit 1 de AL estiver limpo,	usamos BL)
    686	00D5  BA 03C0			 mov dx, 320*3 ; linha / coluna
    687	00D8  E8 FFD9			 call PRINT_STRING
    688
    689	00DB  C3			 ret
    690	00DC			     PRINT_TITLE_MENU endp
    691
    692	00DC			     RENDER_SPRITE proc
    693					 ; joga	pra pilha valres dos registradores pra n?o perder
    694	00DC  53			 push bx
    695	00DD  51			 push cx
    696	00DE  52			 push dx
    697	00DF  57			 push di
    698	00E0  06			 push es
    699	00E1  1E			 push ds
    700	00E2  50			 push ax
    701
    702					 ; ds apotando pros dados onde a sprite	t?
    703	00E3  B8 0000s			 mov ax, @data
    704	00E6  8E D8			 mov ds, ax
    705
    706					 ; garante que continua	no modo	13h
    707	00E8  B8 A000			 mov ax, 0A000h
    708	00EB  8E C0			 mov es, ax
    709
    710					 ; pega	da pilha o ax (posi??o da tela)
    711					 ; joga	pra di do movsb
    712	00ED  58			 pop ax
    713	00EE  8B F8			 mov di, ax
    714	00F0  BA 000E			 mov dx, 14 ; 14 linhas	pro loop
    715	00F3  50			 push ax
    716
    717	00F4			     DRAW_LINE:
    718	00F4  B9 000E			 mov cx, 14 ; 14 colunas
    719	00F7  F3> A4			 rep movsb
    720	00F9  81 C7 0132		 add di, 320 - 14 ; avan?a pro come?o da prox linha
    721	00FD  4A			 dec dx
    722	00FE  75 F4			 jnz DRAW_LINE
    723
    724					 ; devolve os valores empilhados no comeco
    725	0100  58			 pop ax
    726	0101  1F			 pop ds
    727	0102  07			 pop es
    728	0103  5F			 pop di
    729	0104  5A			 pop dx
    730	0105  59			 pop cx
    731	0106  5B			 pop bx
    732	0107  C3		     ret
    733	0108			     RENDER_SPRITE endp
    734
    735				     ; Renderiza sprite	da nave
    736				     ; AX = posição na tela
    737				     ; SI = offset do sprite
    738	0108			     RENDER_SHIP_SPRITE	proc
    739	0108  53			 push bx
    740	0109  51			 push cx
    741	010A  52			 push dx
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 14
MAIN.ASM



    742	010B  57			 push di
    743	010C  06			 push es
    744	010D  1E			 push ds
    745	010E  50			 push ax
    746
    747	010F  B8 0000s			 mov ax, @data
    748	0112  8E D8			 mov ds, ax
    749
    750	0114  B8 A000			 mov ax, 0A000h
    751	0117  8E C0			 mov es, ax
    752
    753	0119  58			 pop ax
    754	011A  8B F8			 mov di, ax
    755	011C  BA 0012			 mov dx, SPR_H
    756	011F  50			 push ax
    757
    758	0120			     DRAW_SHIP_LINE:
    759	0120  B9 0016			 mov cx, SPR_W
    760	0123  F3> A4			 rep movsb
    761	0125  81 C7 012A		 add di, SCREEN_W - SPR_W
    762	0129  4A			 dec dx
    763	012A  75 F4			 jnz DRAW_SHIP_LINE
    764
    765	012C  58			 pop ax
    766	012D  1F			 pop ds
    767	012E  07			 pop es
    768	012F  5F			 pop di
    769	0130  5A			 pop dx
    770	0131  59			 pop cx
    771	0132  5B			 pop bx
    772	0133  C3			 ret
    773	0134			     RENDER_SHIP_SPRITE	endp
    774
    775				     ; usando o	valor aleatorio	gerado em N_ALE
    776	0134			     RANDOM_UINT16 proc
    777	0134  52			 push dx
    778
    779	0135  B8 6255			 mov ax, 25173
    780	0138  F7 26 0000r		 mul ale
    781	013C  05 3619			 add ax, 13849
    782	013F  A3 0000r			 mov ale, ax
    783
    784	0142  5A			 pop dx
    785	0143  C3			 ret
    786	0144			     endp
    787
    788				     ; Inicializa posi??o e dire??o aleat?rias do alien
    789				     ; Requer: RANDOM_UINT16 (retorna AX pseudo-aleat?rio)
    790				     ; Usa: y fixo = 100 (troque se quiser), largura sprite = 14 (logo x<=306)
    791
    792	0144			     INIT_ALIEN_RANDOM proc
    793	0144  50			 push ax
    794	0145  53			 push bx
    795	0146  51			 push cx
    796	0147  52			 push dx
    797
    798					 ; x aleat?rio em [0..306]
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 15
MAIN.ASM



    799	0148  E8 FFE9			 call RANDOM_UINT16	    ; AX = rand
    800	014B  33 D2			 xor dx, dx
    801	014D  BB 0133			 mov bx, 307		    ; divisor
    802	0150  F7 F3			 div bx			    ; AX/307
    803	0152  8B CA			 mov cx, dx		    ; CX = x (0..306)
    804
    805					 ; y*320 (y = 125)
    806	0154  BB 007D			 mov bx, 125
    807	0157  8B C3			 mov ax, bx
    808	0159  D1 E3 D1 E3 D1 E3	D1+	 shl bx, 6		    ; y<<6
    809	      E3 D1 E3 D1 E3
    810	0165  D1 E0 D1 E0 D1 E0	D1+	 shl ax, 8		    ; y<<8
    811	      E0 D1 E0 D1 E0 D1	E0+
    812	      D1 E0
    813	0175  03 D8			 add bx, ax		    ; bx = y*320
    814
    815					 ; alien_pos = y*320 + x
    816	0177  03 D9			 add bx, cx
    817	0179  89 1E 02F8r		 mov alien_pos,	bx
    818
    819	017D  5A			 pop dx
    820	017E  59			 pop cx
    821	017F  5B			 pop bx
    822	0180  58			 pop ax
    823	0181  C3			 ret
    824	0182			     INIT_ALIEN_RANDOM endp
    825
    826				     ; DI = posi??o linear do canto esquerdo do	sprite
    827	0182			     CLEAR_SPRITE proc
    828	0182  50			 push ax
    829	0183  51			 push cx
    830	0184  57			 push di
    831	0185  06			 push es
    832
    833	0186  B8 A000			 mov ax, 0A000h
    834	0189  8E C0			 mov es, ax
    835	018B  B9 0012			 mov cx, SPR_H
    836
    837	018E			     CLEAR_LINE:
    838	018E  51			 push cx
    839	018F  B9 0016			 mov cx, SPR_W
    840	0192  32 C0			 xor al, al	     ; cor 0 (preto)
    841	0194  F3> AA			 rep stosb
    842	0196  81 C7 012A		 add di, SCREEN_W - SPR_W
    843	019A  59			 pop cx
    844	019B  E2 F1			 loop CLEAR_LINE
    845
    846	019D  07			 pop es
    847	019E  5F			 pop di
    848	019F  59			 pop cx
    849	01A0  58			 pop ax
    850	01A1  C3			 ret
    851	01A2			     CLEAR_SPRITE endp
    852
    853				     ; DI = posição linear do	canto esquerdo da nave (29x13)
    854	01A2			     CLEAR_SHIP_SPRITE proc
    855	01A2  50			 push ax
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 16
MAIN.ASM



    856	01A3  51			 push cx
    857	01A4  57			 push di
    858	01A5  06			 push es
    859
    860	01A6  B8 A000			 mov ax, 0A000h
    861	01A9  8E C0			 mov es, ax
    862	01AB  B9 0012			 mov cx, SPR_H
    863
    864	01AE			     CLEAR_SHIP_LINE:
    865	01AE  51			 push cx
    866	01AF  B9 0016			 mov cx, SPR_W
    867	01B2  32 C0			 xor al, al
    868	01B4  F3> AA			 rep stosb
    869	01B6  81 C7 012A		 add di, SCREEN_W - SPR_W
    870	01BA  59			 pop cx
    871	01BB  E2 F1			 loop CLEAR_SHIP_LINE
    872
    873	01BD  07			 pop es
    874	01BE  5F			 pop di
    875	01BF  59			 pop cx
    876	01C0  58			 pop ax
    877	01C1  C3			 ret
    878	01C2			     CLEAR_SHIP_SPRITE endp
    879
    880				     ; MOVE_WRAP_LEFT_AND_DRAW
    881				     ; Entradas:
    882				     ;	 BX = &pos_var		 (ex.: OFFSET meteor_pos)
    883				     ;	 SI = offset sprite	 (ex.: OFFSET meteor_sprite)
    884				     ;	 AX = L	(left bound)	 (ex.: METEOR_L)
    885				     ;	 DX = R	(right bound)	 (ex.: METEOR_R)
    886				     ; Efeito:
    887				     ;	 - limpa, move 1 px p/ esquerda	(wrap p/ direita se necess?rio), redesenha
    888	01C2			     MOVE_WRAP_LEFT_AND_DRAW proc
    889	01C2  50			 push ax
    890	01C3  53			 push bx
    891	01C4  51			 push cx
    892	01C5  52			 push dx
    893	01C6  56			 push si
    894	01C7  57			 push di
    895	01C8  55			 push bp
    896
    897				     ;	   mov si, offset ship_pos
    898				     ;	   mov di, [si]
    899				     ;	   ; Verifica limites: x = ship_pos % 320
    900				     ;	   mov ax, [ship_pos]
    901				     ;	   xor dx, dx
    902				     ;	   mov cx, 320
    903				     ;	   div cx			; DX = x
    904				     ;	   ; se	x >= (320-SPR_W), não anda para a direita
    905				     ;	   mov bx, 320 - SPR_W	       ; limite	direito	considerando largura da	nave
    906				     ;	   cmp dx, bx
    907				     ;	   jb MOVE_RIGHT_MENU
    908				     ;	   ; wrap para a esquerda
    909				     ;	   mov di, ship_pos
    910				     ;	   call	CLEAR_SPRITE
    911				     ;	   mov ship_pos, ship_pos_ini		 ; AX =	L
    912
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 17
MAIN.ASM



    913				     ; MOVE_RIGHT_MENU:
    914				     ;	   call	MOVE_RIGHT_PROC
    915
    916				     ; DRAW_RIGHT:
    917
    918				     ;	   call	RENDER_SHIP
    919
    920
    921	01C9  8B E8			 mov bp, ax		 ; BP =	L
    922	01CB  8B 3F			 mov di, [bx]		 ; DI =	pos atual
    923	01CD  8B C7			 mov ax, di
    924	01CF  E8 FFB0			 call CLEAR_SPRITE
    925
    926	01D2  8B 07			 mov ax, [bx]		 ; AX =	pos
    927	01D4  3B C5			 cmp ax, bp		 ; pos <= L ?
    928	01D6  77 07			 ja  MOVE_LEFT_MENU
    929					 ; wrap	p/ direita
    930	01D8  8B C2			 mov ax, dx		 ; AX =	R
    931	01DA  89 07			 mov [bx], ax
    932	01DC  EB 04 90			 jmp DRAW
    933
    934	01DF			     MOVE_LEFT_MENU:
    935	01DF  48			 dec ax
    936	01E0  89 07			 mov [bx], ax
    937
    938	01E2			     DRAW:
    939	01E2  8B F6			 mov si, si		 ; (SI j? ? o sprite)
    940					 ; AX j? tem pos atualizada
    941	01E4  E8 FEF5			 call RENDER_SPRITE
    942
    943	01E7  5D			 pop bp
    944	01E8  5F			 pop di
    945	01E9  5E			 pop si
    946	01EA  5A			 pop dx
    947	01EB  59			 pop cx
    948	01EC  5B			 pop bx
    949	01ED  58			 pop ax
    950	01EE  C3			 ret
    951	01EF			     MOVE_WRAP_LEFT_AND_DRAW endp
    952
    953				     ; MOVE_BOUNCE_X_AND_DRAW
    954				     ; Entradas:
    955				     ;	 BX = &pos_var		 (ex.: OFFSET alien_pos)
    956				     ;	 BP = &dir_flag		 (ex.: OFFSET alien_dir)  ; byte: 0=esq, 1=dir
    957				     ;	 SI = offset sprite	 (ex.: OFFSET alien_sprite)
    958				     ;	 AX = L	(left bound)	 (ex.: ALIEN_L)
    959				     ;	 DX = R	(right bound)	 (ex.: ALIEN_R)
    960				     ; Efeito:
    961				     ;	 - limpa as bordas, move 1 px na direção, redesenha
    962	01EF			     MOVE_BOUNCE_X_AND_DRAW proc
    963	01EF  50			 push ax
    964	01F0  53			 push bx
    965	01F1  51			 push cx
    966	01F2  52			 push dx
    967	01F3  56			 push si
    968	01F4  57			 push di
    969
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 18
MAIN.ASM



    970	01F5  8B C8			 mov cx, ax		 ; CX =	L (guarda L)
    971	01F7  8B 3F			 mov di, [bx]		 ; DI =	pos atual
    972	01F9  8B C7			 mov ax, di
    973	01FB  E8 FF84			 call CLEAR_SPRITE
    974
    975	01FE  8B 07			 mov ax, [bx]		 ; AX =	pos
    976
    977					 ; borda esquerda
    978	0200  3B C1			 cmp ax, cx
    979	0202  77 0B			 ja  CHECK_RIGHT
    980	0204  8B C1			 mov ax, cx		 ; clamp = L
    981	0206  89 07			 mov [bx], ax
    982	0208  C6 46 00 01		 mov byte ptr [bp], 1	 ; ir para direita
    983	020C  EB 0D 90			 jmp DECIDE
    984
    985	020F			     CHECK_RIGHT:
    986					 ; borda direita
    987	020F  3B C2			 cmp ax, dx
    988	0211  72 08			 jb  DECIDE
    989	0213  8B C2			 mov ax, dx		 ; clamp = R
    990	0215  89 07			 mov [bx], ax
    991	0217  C6 46 00 00		 mov byte ptr [bp], 0	 ; ir para esquerda
    992
    993	021B			     DECIDE:
    994	021B  8A 56 00			 mov dl, byte ptr [bp]	 ; DL =	dir (0 / 1)
    995	021E  80 FA 01			 cmp dl, 1
    996	0221  74 06			 jz  RIGHT
    997					 ; esquerda
    998	0223  48			 dec ax
    999	0224  89 07			 mov [bx], ax
   1000	0226  EB 04 90			 jmp DRAW_BOUNCE
   1001
   1002	0229			     RIGHT:
   1003	0229  40			 inc ax
   1004	022A  89 07			 mov [bx], ax
   1005
   1006	022C			     DRAW_BOUNCE:
   1007					 ; AX j? tem pos atualizada
   1008	022C  E8 FEAD			 call RENDER_SPRITE
   1009
   1010	022F  5F			 pop di
   1011	0230  5E			 pop si
   1012	0231  5A			 pop dx
   1013	0232  59			 pop cx
   1014	0233  5B			 pop bx
   1015	0234  58			 pop ax
   1016	0235  C3			 ret
   1017	0236			     MOVE_BOUNCE_X_AND_DRAW endp
   1018
   1019	0236			     MOVE_WRAP_RIGHT_AND_DRAW proc
   1020	0236  50			 push ax
   1021	0237  53			 push bx
   1022	0238  51			 push cx
   1023	0239  52			 push dx
   1024	023A  56			 push si
   1025	023B  57			 push di
   1026
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 19
MAIN.ASM



   1027	023C  BE 0487r			 mov si, offset	ship_pos
   1028	023F  8B 3C			 mov di, [si]
   1029					 ; Verifica limites: x = ship_pos % 320
   1030	0241  A1 0487r			 mov ax, [ship_pos]
   1031	0244  33 D2			 xor dx, dx
   1032	0246  B9 0140			 mov cx, 320
   1033	0249  F7 F1			 div cx			      ;	DX = x
   1034					 ; se x	>= (320-SPR_W),	não anda para a direita
   1035	024B  BB 012A			 mov bx, 320 - SPR_W	     ; limite direito considerando largura da nave
   1036	024E  3B D3			 cmp dx, bx
   1037	0250  72 0D			 jb MOVE_RIGHT_MENU
   1038					 ; wrap	para a esquerda
   1039	0252  8B 3E 0487r		 mov di, ship_pos
   1040	0256  E8 FF29			 call CLEAR_SPRITE
   1041	0259  C7 06 0487r 5DC0		 mov ship_pos, ship_pos_ini	       ; AX = L
   1042
   1043	025F			     MOVE_RIGHT_MENU:
   1044	025F  E8 033F			 call MOVE_RIGHT_PROC
   1045
   1046	0262			     DRAW_RIGHT:
   1047
   1048	0262  E8 0269			 call RENDER_SHIP
   1049
   1050	0265  5F			 pop di
   1051	0266  5E			 pop si
   1052	0267  5A			 pop dx
   1053	0268  59			 pop cx
   1054	0269  5B			 pop bx
   1055	026A  58			 pop ax
   1056	026B  C3			 ret
   1057	026C			     MOVE_WRAP_RIGHT_AND_DRAW endp
   1058
   1059	026C			     MOVE_MENU PROC
   1060	026C  BB 0232r			 mov bx, OFFSET	meteor_pos
   1061	026F  BE 016Er			 mov si, OFFSET	meteor_sprite
   1062	0272  B8 7D00			 mov ax, METEOR_L
   1063	0275  BA 7E2A			 mov dx, METEOR_R
   1064	0278  E8 FF47			 call MOVE_WRAP_LEFT_AND_DRAW
   1065	027B  BB 02F8r			 mov bx, OFFSET	alien_pos
   1066	027E  BD 02FAr			 mov bp, OFFSET	alien_dir
   1067	0281  BE 0234r			 mov si, OFFSET	alien_sprite
   1068	0284  B8 9C40			 mov ax, ALIEN_L
   1069	0287  BA 9D6A			 mov dx, ALIEN_R
   1070	028A  E8 FF62			 call MOVE_BOUNCE_X_AND_DRAW
   1071
   1072	028D  E8 FFA6			 call MOVE_WRAP_RIGHT_AND_DRAW
   1073					 ; Delay
   1074					 ; usa interrup??o 15h que faz o delay
   1075					 ; dx fica com o valor do deplay, quanto maior mais delay tera
   1076	0290  33 C9			 xor cx, cx
   1077	0292  BA 2710			 mov dx, 2710H
   1078	0295  B4 86			 mov ah, 86H
   1079	0297  CD 15			 int 15h
   1080	0299			     MOVE_MENU ENDP
   1081
   1082
   1083	0299			     HANDLE_INPUT PROC
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 20
MAIN.ASM



   1084	0299  80 FC 48			 cmp ah, 48H
   1085	029C  74 08			 je ARROW_UP
   1086
   1087	029E  80 FC 50			 cmp ah, 50H
   1088	02A1  74 0C			 je ARROW_DOWN
   1089
   1090	02A3  EB 13 90			 jmp END_HANDLE
   1091
   1092	02A6			     ARROW_UP:
   1093	02A6  32 E4			 xor ah, ah
   1094	02A8  88 26 0002r		 mov menu, ah
   1095
   1096	02AC  EB 07 90			 jmp RENDER_BUTTONS
   1097
   1098	02AF			     ARROW_DOWN:
   1099	02AF  B4 01			 mov ah, 1
   1100	02B1  88 26 0002r		 mov menu, ah
   1101
   1102	02B5			     RENDER_BUTTONS:
   1103	02B5  E8 FDB6			 call PRINT_BUTTONS
   1104
   1105	02B8			     END_HANDLE:
   1106	02B8  C3			 ret
   1107	02B9			     ENDP
   1108
   1109	02B9			     END_GAME proc
   1110					 ; Back	to text	mode
   1111	02B9  32 E4			 xor ah, ah
   1112	02BB  B0 03			 mov al, 3h
   1113	02BD  CD 10			 int 10h
   1114
   1115					 ; Ends	program
   1116	02BF  B4 4C			 mov ah, 4ch
   1117	02C1  32 C0			 xor al, al
   1118	02C3  CD 21			 int 21h
   1119	02C5  C3			 ret
   1120	02C6			     endp
   1121
   1122	02C6			     CLEAR_SCREEN proc
   1123	02C6  50			 push ax
   1124	02C7  51			 push cx
   1125	02C8  06			 push es
   1126	02C9  57			 push di
   1127
   1128	02CA  B8 A000			 mov ax,0A000h
   1129	02CD  8E C0			 mov es,ax
   1130	02CF  33 FF			 xor di, di
   1131	02D1  B9 7D00			 mov cx, 32000d
   1132	02D4  FC			 cld
   1133	02D5  33 C0			 xor ax, ax
   1134	02D7  F3> AB			 rep stosw
   1135
   1136	02D9  5F			 pop di
   1137	02DA  07			 pop es
   1138	02DB  59			 pop cx
   1139	02DC  58			 pop ax
   1140	02DD  C3			 ret
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 21
MAIN.ASM



   1141	02DE			     endp
   1142
   1143	02DE			     RENDER_FASE proc
   1144	02DE  50			 push ax
   1145	02DF  53			 push bx
   1146	02E0  51			 push cx
   1147	02E1  52			 push dx
   1148	02E2  55			 push bp
   1149
   1150	02E3  E8 FFE0			 call CLEAR_SCREEN
   1151
   1152	02E6  C7 06 0487r 0000		 mov ship_pos, 0
   1153
   1154					 ; Print Sector
   1155	02EC  33 C0			 xor ax, ax
   1156	02EE  A0 0003r			 mov al, fase
   1157
   1158	02F1  3C 04			 cmp al, 4
   1159	02F3  75 00			 jne SUM_POINTS
   1160					 ;call SHOW_YOU_WIN
   1161
   1162	02F5			     SUM_POINTS:
   1163	02F5  FE C8			 dec al	; number vector	index
   1164
   1165					 ;mov bx, 1000
   1166					 ;mul bx
   1167					 ;xor bx, bx
   1168					 ;mov bl, allies_count
   1169					 ;mul bx
   1170					 ;add score, ax
   1171
   1172	02F7  33 C0			 xor ax, ax
   1173	02F9  A0 0003r			 mov al, fase
   1174	02FC  FE C8			 dec al	; number vector	index
   1175	02FE  D0 E0			 shl al, 1 ; multiply by 2 (since num_vec values are dw)
   1176	0300  BB 06DCr			 mov bx, offset	fase_vec ; get the vector
   1177	0303  03 D8			 add bx, ax ; add the index to the vector ptr
   1178	0305  8B 2F			 mov bp, [bx] ;	set BP to base address of number
   1179	0307  B9 00C6			 mov cx, fase_string_length
   1180	030A  32 D2			 xor dl, dl; line
   1181	030C  B6 0A			 mov dh, 10
   1182
   1183	030E  B3 0B			 mov bl, 0BH ; Cor verde (se bit 1 de AL estiver limpo,	usamos BL)
   1184	0310  E8 FDA1			 call PRINT_STRING
   1185
   1186	0313  33 C9			 xor cx, cx
   1187	0315  B9 001E			 mov cx, 1Eh
   1188	0318  BA 2710			 mov dx, 2710H
   1189	031B  B4 86			 mov ah, 86H
   1190	031D  CD 15			 int 15h
   1191
   1192	031F  E8 FFA4			 call CLEAR_SCREEN
   1193
   1194	0322  5D			 pop bp
   1195	0323  5A			 pop dx
   1196	0324  59			 pop cx
   1197	0325  5B			 pop bx
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 22
MAIN.ASM



   1198	0326  58			 pop ax
   1199	0327  C3			 ret
   1200	0328			     endp
   1201
   1202	0328			     RENDER_TIME proc
   1203	0328  55			 push bp
   1204	0329  53			 push bx
   1205	032A  51			 push cx
   1206	032B  52			 push dx
   1207
   1208	032C  BD 06E6r			 mov bp, offset	time_str
   1209	032F  B9 0006			 mov cx, time_str_len
   1210	0332  B3 0F			 mov bl, 0FH ; white
   1211	0334  32 F6			 xor dh, dh
   1212	0336  B2 1E			 mov dl, 30
   1213	0338  E8 FD79			 call PRINT_STRING
   1214
   1215	033B  33 C0			 xor ax, ax
   1216	033D  A0 06E2r			 mov al, time
   1217	0340  BE 06E4r			 mov si, offset	time_buffer
   1218	0343  83 C6 01			 add si, time_buffer_len - 1
   1219	0346  B9 0002			 mov cx, 2
   1220	0349  E8 0014			 call CONVERT_UINT16
   1221
   1222	034C  BD 06E4r			 mov bp, offset	time_buffer
   1223	034F  B9 0002			 mov cx, time_buffer_len
   1224	0352  B3 02			 mov bl, 02H ; green
   1225	0354  32 F6			 xor dh, dh
   1226	0356  B2 24			 mov dl, 36
   1227	0358  E8 FD59			 call PRINT_STRING
   1228
   1229	035B  5A			 pop dx
   1230	035C  59			 pop cx
   1231	035D  5B			 pop bx
   1232	035E  5D			 pop bp
   1233
   1234	035F  C3			 ret
   1235	0360			     endp
   1236
   1237
   1238				     ; AX = uint16 value to output
   1239				     ; SI = offset of end off string buffer
   1240				     ; CX = number of digits to	write
   1241	0360			     CONVERT_UINT16 proc
   1242	0360  56			 push si
   1243	0361  50			 push ax
   1244	0362  53			 push bx
   1245	0363  51			 push cx
   1246	0364  52			 push dx
   1247
   1248	0365  BB 000A			 mov bx, 10
   1249
   1250	0368			     LOOP_DIV:
   1251	0368  33 D2			 xor dx, dx
   1252	036A  F7 F3			 div bx
   1253
   1254	036C  80 C2 30			 add dl, '0'
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 23
MAIN.ASM



   1255	036F  88 14			 mov byte ptr ds:[si], dl
   1256	0371  4E			 dec si
   1257
   1258	0372  49			 dec cx
   1259	0373  75 F3			 jnz LOOP_DIV
   1260
   1261	0375  5A			 pop dx
   1262	0376  59			 pop cx
   1263	0377  5B			 pop bx
   1264	0378  58			 pop ax
   1265	0379  5E			 pop si
   1266	037A  C3			 ret
   1267	037B			     endp
   1268
   1269				     ; Renderiza o score na parte superior esquerda
   1270	037B			     RENDER_SCORE proc
   1271	037B  56			 push si
   1272	037C  55			 push bp
   1273	037D  50			 push ax
   1274	037E  53			 push bx
   1275	037F  51			 push cx
   1276	0380  52			 push dx
   1277
   1278	0381  BD 06F3r			 mov bp, offset	score_str
   1279	0384  B9 0006			 mov cx, score_str_len
   1280	0387  B3 0F			 mov bl, 0FH ; branco
   1281	0389  33 D2			 xor dx, dx  ; linha 0,	coluna 0
   1282	038B  E8 FD26			 call PRINT_STRING
   1283
   1284	038E  A1 06ECr			 mov ax, score
   1285	0391  BE 06EEr			 mov si, offset	score_buffer
   1286	0394  83 C6 04			 add si, score_buffer_len - 1
   1287	0397  B9 0005			 mov cx, score_buffer_len
   1288	039A  E8 FFC3			 call CONVERT_UINT16
   1289
   1290	039D  BD 06EEr			 mov bp, offset	score_buffer
   1291	03A0  B9 0005			 mov cx, score_buffer_len
   1292	03A3  B3 0A			 mov bl, 0AH ; verde claro
   1293	03A5  32 F6			 xor dh, dh
   1294	03A7  B2 07			 mov dl, 7   ; coluna 7	(após "SCORE:")
   1295	03A9  E8 FD08			 call PRINT_STRING
   1296
   1297	03AC  5A			 pop dx
   1298	03AD  59			 pop cx
   1299	03AE  5B			 pop bx
   1300	03AF  58			 pop ax
   1301	03B0  5D			 pop bp
   1302	03B1  5E			 pop si
   1303	03B2  C3			 ret
   1304	03B3			     RENDER_SCORE endp
   1305
   1306				     ; Renderiza as vidas no centro da barra de	status
   1307	03B3			     RENDER_LIVES proc
   1308	03B3  50			 push ax
   1309	03B4  53			 push bx
   1310	03B5  51			 push cx
   1311	03B6  56			 push si
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 24
MAIN.ASM



   1312	03B7  57			 push di
   1313
   1314	03B8  33 C9			 xor cx, cx
   1315	03BA  8A 0E 0489r		 mov cl, lives
   1316	03BE  80 F9 00			 cmp cl, 0
   1317	03C1  74 17			 je END_RENDER_LIVES
   1318
   1319					 ; Posição inicial: linha 5, centralizado
   1320					 ; Centro da tela = 160, cada vida ocupa 19 pixels + 6 de espaço = 25
   1321					 ; Para	3 vidas: 3*25 =	75 pixels, começa em 160-37 = 123
   1322	03C3  B8 06BB			 mov ax, 5 * SCREEN_W +	123  ; linha 5,	coluna 123 (centralizado)
   1323	03C6  BE 02FBr			 mov si, offset	ship_sprite
   1324
   1325	03C9			     RENDER_SINGLE_LIFE:
   1326	03C9  51			 push cx
   1327	03CA  50			 push ax
   1328	03CB  56			 push si
   1329	03CC  BE 02FBr			 mov si, offset	ship_sprite  ; Resetar SI para o início do sprite
   1330	03CF  E8 FD36			 call RENDER_SHIP_SPRITE
   1331	03D2  5E			 pop si
   1332	03D3  58			 pop ax
   1333	03D4  05 0019			 add ax, 25  ; próxima	vida (19 pixels	+ 6 de espaço)
   1334	03D7  59			 pop cx
   1335	03D8  E2 EF			 loop RENDER_SINGLE_LIFE
   1336
   1337	03DA			     END_RENDER_LIVES:
   1338	03DA  5F			 pop di
   1339	03DB  5E			 pop si
   1340	03DC  59			 pop cx
   1341	03DD  5B			 pop bx
   1342	03DE  58			 pop ax
   1343	03DF  C3			 ret
   1344	03E0			     RENDER_LIVES endp
   1345
   1346				     ; Renderiza toda a	barra de status	(score + vidas + tempo)
   1347	03E0			     RENDER_STATUS proc
   1348	03E0  E8 FF98			 call RENDER_SCORE
   1349	03E3  E8 FFCD			 call RENDER_LIVES
   1350	03E6  E8 FF3F			 call RENDER_TIME
   1351	03E9  C3			 ret
   1352	03EA			     RENDER_STATUS endp
   1353
   1354	03EA			     UPDATE_TIME proc
   1355	03EA  50			 push ax
   1356	03EB  53			 push bx
   1357
   1358	03EC  8A 26 06E3r		 mov ah, timeout
   1359	03F0  FE C4			 inc ah
   1360	03F2  80 FC 64			 cmp ah, 100
   1361	03F5  75 46			 jne SAVE_TIMEOUT
   1362
   1363	03F7  8A 26 06E2r		 mov ah, time
   1364	03FB  FE CC			 dec ah
   1365	03FD  75 10			 jnz SAVE_TIME
   1366
   1367	03FF  8A 26 0003r		 mov ah, fase
   1368	0403  FE C4			 inc ah
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 25
MAIN.ASM



   1369	0405  88 26 0003r		 mov fase, ah
   1370
   1371	0409  E8 FED2			 call RENDER_FASE
   1372
   1373	040C  EB 33 90			 jmp END_TIME
   1374
   1375	040F			     SAVE_TIME:
   1376	040F  88 26 06E2r		 mov time, ah
   1377
   1378					 ; Adiciona pontos por segundo baseado na fase
   1379	0413  8A 1E 0003r		 mov bl, fase
   1380	0417  80 FB 01			 cmp bl, 1
   1381	041A  75 08			 jne CHECK_FASE2
   1382	041C  83 06 06ECr 0A		 add score, 10	; Fase 1: +10 pontos/segundo
   1383	0421  EB 1A 90			 jmp SAVE_TIMEOUT
   1384
   1385	0424			     CHECK_FASE2:
   1386	0424  80 FB 02			 cmp bl, 2
   1387	0427  75 08			 jne CHECK_FASE3
   1388	0429  83 06 06ECr 0F		 add score, 15	; Fase 2: +15 pontos/segundo
   1389	042E  EB 0D 90			 jmp SAVE_TIMEOUT
   1390
   1391	0431			     CHECK_FASE3:
   1392	0431  80 FB 03			 cmp bl, 3
   1393	0434  75 07			 jne SAVE_TIMEOUT
   1394	0436  83 06 06ECr 14		 add score, 20	; Fase 3: +20 pontos/segundo
   1395
   1396	043B  32 E4			 xor ah, ah
   1397
   1398	043D			     SAVE_TIMEOUT:
   1399	043D  88 26 06E3r		 mov timeout, ah
   1400
   1401	0441			     END_TIME:
   1402	0441  5B			 pop bx
   1403	0442  58			 pop ax
   1404	0443  C3			 ret
   1405	0444			     endp
   1406
   1407
   1408
   1409	0444			     UPDATE_SHIP proc
   1410	0444  56			 push si
   1411	0445  57			 push di
   1412	0446  50			 push ax
   1413	0447  53			 push bx
   1414
   1415	0448  B4 01			 mov ah, 1H
   1416	044A  CD 16			 int 16H
   1417	044C  74 07			 jz END_SHIP_UPDATE
   1418
   1419	044E  E8 000C			 call HANDLE_CONTROLS
   1420	0451  32 E4			 xor ah, ah
   1421	0453  CD 16			 int 16H
   1422
   1423	0455			     END_SHIP_UPDATE:
   1424	0455  5B			 pop bx
   1425	0456  58			 pop ax
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 26
MAIN.ASM



   1426	0457  5F			 pop di
   1427	0458  5E			 pop si
   1428	0459  E8 0072			 call RENDER_SHIP
   1429	045C  C3			 ret
   1430	045D			     endp
   1431
   1432
   1433				     ; Proc para controle da nave
   1434	045D			     HANDLE_CONTROLS proc
   1435	045D  56			 push si
   1436	045E  57			 push di
   1437	045F  50			 push ax
   1438	0460  53			 push bx
   1439	0461  51			 push cx
   1440
   1441	0462  BE 0487r			 mov si, offset	ship_pos
   1442	0465  8B 3C			 mov di, [si]
   1443
   1444	0467  80 FC 48			 cmp ah, 48H
   1445	046A  74 1D			 je MOVE_UP
   1446
   1447	046C  80 FC 50			 cmp ah, 50H
   1448	046F  74 1E			 je MOVE_DOWN
   1449
   1450	0471  80 FC 4B			 cmp ah, 4BH
   1451	0474  74 1F			 je MOVE_LEFT
   1452
   1453	0476  80 FC 4D			 cmp ah, 4DH
   1454	0479  74 20			 je MOVE_RIGHT
   1455
   1456					 ;cmp ah, 39H
   1457					 ;je FIRE
   1458
   1459	047B  3C 71			 cmp al, 'q'
   1460	047D  75 22			 jne END_CONTROLS
   1461
   1462	047F  33 C0			 xor ax, ax
   1463	0481  CD 16			 int 16h
   1464	0483  E8 FE33			 call END_GAME
   1465
   1466	0486			     FIRE:
   1467					 ;call SHOOT
   1468	0486  EB 19 90			 jmp END_CONTROLS
   1469
   1470	0489			     MOVE_UP:
   1471	0489  E8 00B9			 call MOVE_UP_PROC
   1472	048C  EB 13 90			 jmp END_CONTROLS
   1473	048F			     MOVE_DOWN:
   1474	048F  E8 00CE			 call MOVE_DOWN_PROC
   1475	0492  EB 0D 90			 jmp END_CONTROLS
   1476	0495			     MOVE_LEFT:
   1477	0495  E8 00E3			 call MOVE_LEFT_PROC
   1478	0498  EB 07 90			 jmp END_CONTROLS
   1479
   1480	049B			     MOVE_RIGHT:
   1481	049B  E8 0103			 call MOVE_RIGHT_PROC
   1482	049E  EB 01 90			 jmp END_CONTROLS
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 27
MAIN.ASM



   1483
   1484	04A1			     END_CONTROLS:
   1485	04A1  59			 pop cx
   1486	04A2  5B			 pop bx
   1487	04A3  58			 pop ax
   1488	04A4  5F			 pop di
   1489	04A5  5E			 pop si
   1490	04A6  C3			 ret
   1491	04A7			     endp
   1492
   1493				     ; AL = axis (0 is X, 1 is Y)
   1494				     ; AH = direction (0 is positive, 1	is negative)
   1495				     ; SI = position pointer
   1496				     ; BX = increment
   1497	04A7			     MOVE_SPRITE proc
   1498	04A7  56			 push si
   1499	04A8  50			 push ax
   1500	04A9  53			 push bx
   1501
   1502	04AA  8B 0C			 mov cx, [si]
   1503	04AC  3C 00			 cmp al, 0
   1504	04AE  75 03			 jne MOVE_Y_AXIS
   1505	04B0  EB 0A 90			 jmp CHECK_DIRECTION
   1506
   1507	04B3			     MOVE_Y_AXIS:
   1508	04B3  50			 push ax
   1509	04B4  B8 0140			 mov ax, 320
   1510	04B7  F7 E3			 mul bx
   1511	04B9  8B D8			 mov bx, ax
   1512	04BB  58			 pop ax
   1513
   1514	04BC			     CHECK_DIRECTION:
   1515	04BC  80 FC 00			 cmp ah, 0
   1516	04BF  75 05			 jne MOVE_NEGATIVE
   1517	04C1  03 CB			 add cx, bx
   1518	04C3  EB 03 90			 jmp SAVE_POS
   1519
   1520	04C6			     MOVE_NEGATIVE:
   1521	04C6  2B CB			 sub cx, bx
   1522
   1523	04C8			     SAVE_POS:
   1524	04C8  89 0C			 mov [si], cx
   1525
   1526	04CA  5B			 pop bx
   1527	04CB  58			 pop ax
   1528	04CC  5E			 pop si
   1529	04CD  C3			 ret
   1530	04CE			     endp
   1531
   1532	04CE			     RENDER_SHIP proc
   1533	04CE  56			 push si
   1534	04CF  57			 push di
   1535	04D0  53			 push bx
   1536	04D1  50			 push ax
   1537
   1538	04D2  A1 0487r			 mov ax, ship_pos
   1539	04D5  BE 02FBr			 mov si, offset	ship_sprite
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 28
MAIN.ASM



   1540	04D8  E8 FC2D			 call RENDER_SHIP_SPRITE
   1541
   1542	04DB  58			 pop ax
   1543	04DC  5B			 pop bx
   1544	04DD  5F			 pop di
   1545	04DE  5E			 pop si
   1546	04DF  C3			 ret
   1547	04E0			     endp
   1548
   1549	04E0			     RESET_SHIP	proc
   1550	04E0  56			 push si
   1551	04E1  53			 push bx
   1552
   1553	04E2  C7 06 0487r 5DC0		 mov ship_pos, ship_pos_ini ; Ship stating position
   1554
   1555	04E8  5B			 pop bx
   1556	04E9  5E			 pop si
   1557	04EA  C3			 ret
   1558	04EB			     endp
   1559
   1560				     ; Reseta o	jogo (score, vidas, fase)
   1561	04EB			     RESET_GAME	proc
   1562	04EB  50			 push ax
   1563
   1564	04EC  C7 06 06ECr 0000		 mov score, 0
   1565	04F2  C6 06 0489r 03		 mov lives, LIFES_START
   1566	04F7  C6 06 0003r 01		 mov fase, 1
   1567	04FC  C6 06 06E2r 3C		 mov time, SECONDS_START
   1568	0501  C6 06 06E3r 00		 mov timeout, 0
   1569	0506  C7 06 663Ar A280		 mov terrain_pos, 320 *	130
   1570
   1571	050C  58			 pop ax
   1572	050D  C3			 ret
   1573	050E			     endp
   1574
   1575				     ; Renderiza o terreno (montanhoso para fase 1)
   1576	050E			     RENDER_TERRAIN proc
   1577	050E  53			 push bx
   1578	050F  51			 push cx
   1579	0510  52			 push dx
   1580	0511  57			 push di
   1581	0512  06			 push es
   1582	0513  1E			 push ds
   1583	0514  50			 push ax
   1584
   1585	0515  B8 0000s			 mov ax, @data
   1586	0518  8E D8			 mov ds, ax
   1587
   1588	051A  B8 A000			 mov ax, 0A000h
   1589	051D  8E C0			 mov es, ax
   1590
   1591	051F  BE 06F9r			 mov si, offset	terrain
   1592	0522  8B 3E 663Ar		 mov di, terrain_pos
   1593	0526  FF 0E 663Ar		 dec terrain_pos
   1594	052A  81 3E 663Ar A27F		 cmp terrain_pos, 320*130 - 1
   1595	0530  75 06			 jnz SKIP_POS_UPDATE
   1596	0532  C7 06 663Ar A3BF		 mov terrain_pos, 320*131 - 1
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 29
MAIN.ASM



   1597
   1598	0538			     SKIP_POS_UPDATE:
   1599	0538  B9 5780			 mov cx, 320*70	 ; 70 linhas (130 a 199	- não ultrapassa a tela)
   1600	053B  F3> A4			 rep movsb
   1601
   1602	053D  58			 pop ax
   1603	053E  1F			 pop ds
   1604	053F  07			 pop es
   1605	0540  5F			 pop di
   1606	0541  5A			 pop dx
   1607	0542  59			 pop cx
   1608	0543  5B			 pop bx
   1609	0544  C3			 ret
   1610	0545			     endp
   1611
   1612	0545			     MOVE_UP_PROC proc
   1613	0545  57			 push di
   1614	0546  56			 push si
   1615	0547  50			 push ax
   1616
   1617					 ; Verifica limites
   1618	0548  8B 1E 0487r		 mov bx, [ship_pos]
   1619	054C  81 FB 192F		 cmp bx, 320 * 20 + 47
   1620	0550  72 0A			 jb END_UP
   1621
   1622					 ; Move	a nave
   1623	0552  B0 01			 mov al, 1
   1624	0554  B4 01			 mov ah, 1
   1625	0556  BB 0004			 mov bx, ship_speed
   1626	0559  E8 FF4B			 call MOVE_SPRITE
   1627
   1628
   1629	055C			     END_UP:
   1630	055C  58			 pop ax
   1631	055D  5E			 pop si
   1632	055E  5F			 pop di
   1633	055F  C3			 ret
   1634	0560			     endp
   1635
   1636	0560			     MOVE_DOWN_PROC proc
   1637	0560  57			 push di
   1638	0561  56			 push si
   1639	0562  50			 push ax
   1640
   1641					 ; Verifica limites
   1642	0563  8B 1E 0487r		 mov bx, [ship_pos]
   1643	0567  81 FB 8FC0		 cmp bx, 320 * 115
   1644	056B  73 0A			 jae END_DOWN
   1645
   1646					 ; Move	a nave
   1647	056D  B0 01			 mov al, 1
   1648	056F  32 E4			 xor ah, ah
   1649	0571  BB 0004			 mov bx, ship_speed
   1650	0574  E8 FF30			 call MOVE_SPRITE
   1651
   1652
   1653	0577			     END_DOWN:
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 30
MAIN.ASM



   1654	0577  58			 pop ax
   1655	0578  5E			 pop si
   1656	0579  5F			 pop di
   1657	057A  C3			 ret
   1658	057B			     endp
   1659
   1660	057B			     MOVE_LEFT_PROC proc
   1661	057B  57			 push di
   1662	057C  56			 push si
   1663	057D  50			 push ax
   1664	057E  52			 push dx
   1665	057F  51			 push cx
   1666
   1667
   1668					 ; Verifica limites: x = ship_pos % 320
   1669	0580  A1 0487r			 mov ax, [ship_pos]
   1670	0583  33 D2			 xor dx, dx
   1671	0585  B9 0140			 mov cx, 320
   1672	0588  F7 F1			 div cx
   1673	058A  BB 0004			 mov bx, 4
   1674	058D  3B D3			 cmp dx, bx
   1675	058F  76 0A			 jbe END_LEFT
   1676
   1677					 ; Move	a nave
   1678	0591  B4 01			 mov ah, 1		     ; direção negativa (esquerda)
   1679	0593  BB 0004			 mov bx, ship_speed
   1680	0596  B0 00			 mov al, 0		     ; eixo X
   1681	0598  E8 FF0C			 call MOVE_SPRITE
   1682
   1683	059B			     END_LEFT:
   1684	059B  59			 pop cx
   1685	059C  5A			 pop dx
   1686	059D  58			 pop ax
   1687	059E  5E			 pop si
   1688	059F  5F			 pop di
   1689	05A0  C3			 ret
   1690	05A1			     endp
   1691
   1692	05A1			     MOVE_RIGHT_PROC proc
   1693	05A1  57			 push di
   1694	05A2  56			 push si
   1695	05A3  50			 push ax
   1696	05A4  52			 push dx
   1697	05A5  51			 push cx
   1698
   1699					 ; Verifica limites: x = ship_pos % 320
   1700	05A6  A1 0487r			 mov ax, [ship_pos]
   1701	05A9  33 D2			 xor dx, dx
   1702	05AB  B9 0140			 mov cx, 320
   1703	05AE  F7 F1			 div cx			      ;	DX = x
   1704					 ; se x	>= (320-SPR_W),	não anda para a direita
   1705	05B0  BB 012A			 mov bx, 320 - SPR_W	     ; limite direito considerando largura da nave
   1706	05B3  3B D3			 cmp dx, bx
   1707	05B5  73 0A			 jae END_RIGHT
   1708
   1709					 ; Move	a nave
   1710	05B7  32 E4			 xor ah, ah		      ;	direção positiva (direita)
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 31
MAIN.ASM



   1711	05B9  BB 0004			 mov bx, ship_speed
   1712	05BC  B0 00			 mov al, 0		     ; eixo X
   1713	05BE  E8 FEE6			 call MOVE_SPRITE
   1714
   1715
   1716	05C1			     END_RIGHT:
   1717	05C1  59			 pop cx
   1718	05C2  5A			 pop dx
   1719	05C3  58			 pop ax
   1720	05C4  5E			 pop si
   1721	05C5  5F			 pop di
   1722	05C6  C3			 ret
   1723	05C7			     endp
   1724
   1725				     end MAIN
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 32
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/15/25"
??FILENAME			  Text	 "MAIN	  "
??TIME				  Text	 "10:41:03"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MAIN
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ALE				  Word	 DGROUP:0000
ALIEN_DIR			  Byte	 DGROUP:02FA
ALIEN_L				  Number 9C40
ALIEN_POS			  Word	 DGROUP:02F8
ALIEN_R				  Number 9D6A
ALIEN_SPRITE			  Byte	 DGROUP:0234
ARROW_DOWN			  Near	 _TEXT:02AF
ARROW_UP			  Near	 _TEXT:02A6
BTN_INICIAR			  Byte	 DGROUP:0004
BTN_INICIAR_LENGTH		  Number 0051
BTN_SAIR			  Byte	 DGROUP:0055
BTN_SAIR_LENGTH			  Number 0051
CHECK_DIRECTION			  Near	 _TEXT:04BC
CHECK_FASE2			  Near	 _TEXT:0424
CHECK_FASE3			  Near	 _TEXT:0431
CHECK_RIGHT			  Near	 _TEXT:020F
CLEAR_LINE			  Near	 _TEXT:018E
CLEAR_SCREEN			  Near	 _TEXT:02C6
CLEAR_SHIP_LINE			  Near	 _TEXT:01AE
CLEAR_SHIP_SPRITE		  Near	 _TEXT:01A2
CLEAR_SPRITE			  Near	 _TEXT:0182
CONVERT_UINT16			  Near	 _TEXT:0360
CR				  Number 000D
DECIDE				  Near	 _TEXT:021B
DRAW				  Near	 _TEXT:01E2
DRAW_BOUNCE			  Near	 _TEXT:022C
DRAW_LINE			  Near	 _TEXT:00F4
DRAW_RIGHT			  Near	 _TEXT:0262
DRAW_SHIP_LINE			  Near	 _TEXT:0120
END_CONTROLS			  Near	 _TEXT:04A1
END_DOWN			  Near	 _TEXT:0577
END_GAME			  Near	 _TEXT:02B9
END_HANDLE			  Near	 _TEXT:02B8
END_LEFT			  Near	 _TEXT:059B
END_RENDER_LIVES		  Near	 _TEXT:03DA
END_RIGHT			  Near	 _TEXT:05C1
END_SHIP_UPDATE			  Near	 _TEXT:0455
END_TIME			  Near	 _TEXT:0441
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 33
Symbol Table



END_UP				  Near	 _TEXT:055C
EXIT_BTN			  Near	 _TEXT:0096
FASE				  Byte	 DGROUP:0003
FASE1				  Byte	 DGROUP:048A
FASE2				  Byte	 DGROUP:0550
FASE3				  Byte	 DGROUP:0616
FASE_STRING_LENGTH		  Number 00C6
FASE_VEC			  Word	 DGROUP:06DC
FINISH				  Near	 _TEXT:006A
FIRE				  Near	 _TEXT:0486
GAME_LOOP			  Near	 _TEXT:005C
HANDLE_CONTROLS			  Near	 _TEXT:045D
HANDLE_INPUT			  Near	 _TEXT:0299
INIT_ALIEN_RANDOM		  Near	 _TEXT:0144
LF				  Number 000A
LIFES_START			  Number 0003
LIVES				  Byte	 DGROUP:0489
LOOP_DIV			  Near	 _TEXT:0368
LOOP_MENU			  Near	 _TEXT:0020
MAIN				  Near	 _TEXT:0000
MENU				  Byte	 DGROUP:0002
METEOR_L			  Number 7D00
METEOR_POS			  Word	 DGROUP:0232
METEOR_R			  Number 7E2A
METEOR_SPRITE			  Byte	 DGROUP:016E
MOVE_BOUNCE_X_AND_DRAW		  Near	 _TEXT:01EF
MOVE_DOWN			  Near	 _TEXT:048F
MOVE_DOWN_PROC			  Near	 _TEXT:0560
MOVE_LEFT			  Near	 _TEXT:0495
MOVE_LEFT_MENU			  Near	 _TEXT:01DF
MOVE_LEFT_PROC			  Near	 _TEXT:057B
MOVE_MENU			  Near	 _TEXT:026C
MOVE_NEGATIVE			  Near	 _TEXT:04C6
MOVE_RIGHT			  Near	 _TEXT:049B
MOVE_RIGHT_MENU			  Near	 _TEXT:025F
MOVE_RIGHT_PROC			  Near	 _TEXT:05A1
MOVE_SPRITE			  Near	 _TEXT:04A7
MOVE_UP				  Near	 _TEXT:0489
MOVE_UP_PROC			  Near	 _TEXT:0545
MOVE_WRAP_LEFT_AND_DRAW		  Near	 _TEXT:01C2
MOVE_WRAP_RIGHT_AND_DRAW	  Near	 _TEXT:0236
MOVE_Y_AXIS			  Near	 _TEXT:04B3
N_ALE				  Near	 _TEXT:00A5
PRINT_BUTTONS			  Near	 _TEXT:006E
PRINT_STRING			  Near	 _TEXT:00B4
PRINT_TITLE_MENU		  Near	 _TEXT:00C9
RANDOM_UINT16			  Near	 _TEXT:0134
RENDER_BUTTONS			  Near	 _TEXT:02B5
RENDER_FASE			  Near	 _TEXT:02DE
RENDER_LIVES			  Near	 _TEXT:03B3
RENDER_SCORE			  Near	 _TEXT:037B
RENDER_SHIP			  Near	 _TEXT:04CE
RENDER_SHIP_SPRITE		  Near	 _TEXT:0108
RENDER_SINGLE_LIFE		  Near	 _TEXT:03C9
RENDER_SPRITE			  Near	 _TEXT:00DC
RENDER_STATUS			  Near	 _TEXT:03E0
RENDER_TERRAIN			  Near	 _TEXT:050E
Turbo Assembler	 Version 4.1	    11/15/25 10:41:04	    Page 34
Symbol Table



RENDER_TIME			  Near	 _TEXT:0328
RESET_GAME			  Near	 _TEXT:04EB
RESET_SHIP			  Near	 _TEXT:04E0
RIGHT				  Near	 _TEXT:0229
RIGHT_X				  Number 012A
ROW_ALIEN			  Number 007D
ROW_METEOR			  Number 0064
ROW_SHIP			  Number 004B
SAVE_POS			  Near	 _TEXT:04C8
SAVE_TIME			  Near	 _TEXT:040F
SAVE_TIMEOUT			  Near	 _TEXT:043D
SCORE				  Word	 DGROUP:06EC
SCORE_BUFFER			  Byte	 DGROUP:06EE
SCORE_BUFFER_LEN		  Number 0005
SCORE_STR			  Byte	 DGROUP:06F3
SCORE_STR_LEN			  Number 0006
SCREEN_H			  Number 00C8
SCREEN_W			  Number 0140
SECONDS_START			  Number 003C
SELECT_OPTION			  Near	 _TEXT:0037
SHIP_POS			  Word	 DGROUP:0487
SHIP_POS_INI			  Number 5DC0
SHIP_SPEED			  Number 0004
SHIP_SPRITE			  Byte	 DGROUP:02FB
SKIP_POS_UPDATE			  Near	 _TEXT:0538
SPR_H				  Number 0012
SPR_W				  Number 0016
START_BTN			  Near	 _TEXT:007C
STRING				  Byte	 DGROUP:00A6
STRING_LENGTH			  Number 00C8
SUM_POINTS			  Near	 _TEXT:02F5
TERRAIN				  Byte	 DGROUP:06F9
TERRAIN_POS			  Word	 DGROUP:663A
TIME				  Byte	 DGROUP:06E2
TIMEOUT				  Byte	 DGROUP:06E3
TIME_BUFFER			  Byte	 DGROUP:06E4
TIME_BUFFER_LEN			  Number 0002
TIME_STR			  Byte	 DGROUP:06E6
TIME_STR_LEN			  Number 0006
UPDATE_SHIP			  Near	 _TEXT:0444
UPDATE_TIME			  Near	 _TEXT:03EA

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0400 Para	  Stack	  STACK
  _DATA				  16  663C Word	  Public  DATA
_TEXT				  16  05C7 Word	  Public  CODE
